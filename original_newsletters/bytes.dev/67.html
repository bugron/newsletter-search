<!DOCTYPE html><html><head><meta charSet="utf-8"/><link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png"/><link rel="manifest" href="/favicon/site.webmanifest"/><link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#000000"/><meta name="msapplication-TileColor" content="#000000"/><meta name="theme-color" content="#000000"/><title>Bytes #67 - macaroni in the pot</title><link rel="canonical" href="https://bytes.dev/archives/67"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="description" content="This issue, we&#x27;ve got you an invite to JavaScript PartyTown, TinyTown, and HalloweenTown."/><meta property="og:url" content="https://bytes.dev/archives/67"/><meta property="og:title" content="Bytes #67 - macaroni in the pot"/><meta property="og:type" content="website"/><meta property="og:image" content="https://bytes.devhttps://bytes.dev/images/content/party.png"/><meta property="og:site_name" content="Bytes by ui.dev"/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="630"/><meta property="og:description" content="This issue, we&#x27;ve got you an invite to JavaScript PartyTown, TinyTown, and HalloweenTown."/><meta property="twitter:url" content="https://bytes.dev/"/><meta property="twitter:title" content="Bytes #67 - macaroni in the pot"/><meta property="twitter:description" content="This issue, we&#x27;ve got you an invite to JavaScript PartyTown, TinyTown, and HalloweenTown."/><meta property="twitter:image" content="https://bytes.devhttps://bytes.dev/images/content/party.png"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:creator" content="uidotdev"/><meta name="next-head-count" content="26"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="true"/><noscript><img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=2712034659094542&amp;ev=PageView&amp;noscript=1"/></noscript><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><link rel="preload" href="/_next/static/css/4cfe03ce098bd055.css" as="style"/><link rel="stylesheet" href="/_next/static/css/4cfe03ce098bd055.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-45c1d38871d29bef.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-2eac51a0f0ef9b48.js" defer=""></script><script src="/_next/static/chunks/pages/_app-19dca011c0f14f43.js" defer=""></script><script src="/_next/static/chunks/17007de1-87d7b770c56a584a.js" defer=""></script><script src="/_next/static/chunks/318-62d05fcf8d1400db.js" defer=""></script><script src="/_next/static/chunks/pages/archives/%5Bslug%5D-c56c612fe73a68c8.js" defer=""></script><script src="/_next/static/dY9LIRQQ58VhV_MFEhYS7/_buildManifest.js" defer=""></script><script src="/_next/static/dY9LIRQQ58VhV_MFEhYS7/_ssgManifest.js" defer=""></script><style id="__jsx-undefined">
    .email-wrapper {
      color: #231F20;
      background-color: #FFF;
      font-size: 16px;
      font-family: Outfit, sans-serif;
    }

    p {
      font-family: Outfit, sans-serif;
      line-height: 1.5;
      font-size: 17px;
    }

    h3, * + p:not([class]) {
      padding-left: 24px;
      padding-right: 24px;
    }

    a:not([class]) {
      color: #12b5e5;
      text-decoration: underline;
      font-weight: 600;
    }

    h2 {
      margin-top: 10px;
    }

    h3 {
      font-size: 24px;
      margin-bottom: 0;
      padding-left: 24px;
      padding-right: 24px;
    }
    

    h4 {
      font-size: 19px;
      margin-bottom: 0;
      padding-left: 24px;
      padding-right: 24px;
    }
    
    img {
      max-width: 100%;
    }

    strong {
      font-weight: 600;
    }

    pre {
      background-color: #f9f9f9;
      border: 1px solid #f9f9f9;
      color: #231F20;
      padding: 24px;
      border-radius: 8px;
    }

    table {
      border-collapse: collapse;
    }

    td {
      word-break: normal; border-collapse : collapse !important;
    }

    hr {
      border: 0;
      border-color: #f5f5f5;
      border-bottom: 5px solid;
      margin-top: 100px;
      margin-bottom: 100px;
    }

    .section-presenter p {
      font-size: 16px;
      margin-top: 5px;
    }

    mark {
      background-color: #F9F4DA;
      color: #231F20;
      padding-left: 2px;
      padding-right: 2px;
      border-radius: 2px;
    }

    .bg-alt {
      background-color: #f5f5f5;
    }

    @media (prefers-color-scheme: dark) {
      .email-wrapper {
        color: #F9F4DA !important;
        background-color: #0F0D0E !important;
      }

      hr {
        border-color: #262422 !important;
      }

      mark {
        background-color: #231F20 !important;
        color: #F9F4DA !important;
      }

      pre {
        background-color: #231F20 !important;
        border: 1px solid #231F20 !important;
        color: #F9F4DA !important;
      }

      .bg-alt { 
        background-color: #231F20 !important;
      }

      .unsubscribe-link {
        color: #8d8a7f !important;
      }

      .token.punctuation { 
        color: #f9f4da !important;
      }
    }

    @media screen and (min-width: 600px)  {
      .mobile-break { display: none; }
    }

    code[class*="language-"],
    pre[class*="language-"] {
      font-family: "Fira Mono", "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
      font-size: 14px;
      line-height: 1.5;
      direction: ltr;
      text-align: left;
      white-space: pre;
      word-spacing: normal;
      word-break: normal;
      -moz-tab-size: 2;
      -o-tab-size: 2;
      tab-size: 2;
      -webkit-hyphens: none;
      -moz-hyphens: none;
      -ms-hyphens: none;
      hyphens: none;
      color: #c0c5ce;
    }
    pre[class*=language-] {
      overflow: auto;
    }
    pre[class*="language-"]::-moz-selection,
    pre[class*="language-"] ::-moz-selection,
    code[class*="language-"]::-moz-selection,
    code[class*="language-"] ::-moz-selection {
      text-shadow: none;
      background: #a7adba;
    }
    pre[class*="language-"]::selection,
    pre[class*="language-"] ::selection,
    code[class*="language-"]::selection,
    code[class*="language-"] ::selection {
      text-shadow: none;
      background: #a7adba;
    }
    :not(pre) > code[class*="language-"] {
      padding: 3px;
      border-radius: 0.3em;
      white-space: normal;
    }
    .language-text {
      background: #36424D !important;
      padding: 3px 8px !important;
      color: #e5e5e5 !important;
    }
    code,
    code * {
      font-size: 14px;
    }
    code:not(pre) {
      font-size: 17px;
    }
    .token.comment {
      color: rgb(167, 167, 167);
    }
    .token.punctuation { 
      color: #231F20;
    }
    .token.deleted {
      color: #ed203d;
    }
    .token.inserted,
    .token.attr-name {
      color: #0ba95b;
    }
    .token.string,
    .token.url {
      color: #f99157;
    }
    .token.attr-value,
    .token.number {
      color: #fcba28;
    }
    .token.boolean,
    .token.keyword,
    .token.function {
      color: #9d7dce;
    }
    .token.keyword,
    .token.tag,
    .token.parameter,
    .token.method,
    .token.property-access {
      color: #f38ba3;
    }
    .token.changed,
    .token.property,
    .token.namespace,
    .token.operator,
    .token.selector,
    .token.doctype,
    .token.class-name,
    .token.builtin,
    .token.char,
    .token.constant,
    .token.interpolation {
      color: #12b5e5;
    }
</style><style data-styled="" data-styled-version="5.3.5"></style><style data-href="https://fonts.googleapis.com/css2?family=Fira+Mono&family=Outfit:wght@400;500;700;900&family=Paytone+One">@font-face{font-family:'Fira Mono';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/firamono/v14/N0bX2SlFPv1weGeLZDtQIg.woff) format('woff')}@font-face{font-family:'Outfit';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/outfit/v11/QGYyz_MVcBeNP4NjuGObqx1XmO1I4TC1C4I.woff) format('woff')}@font-face{font-family:'Outfit';font-style:normal;font-weight:500;src:url(https://fonts.gstatic.com/s/outfit/v11/QGYyz_MVcBeNP4NjuGObqx1XmO1I4QK1C4I.woff) format('woff')}@font-face{font-family:'Outfit';font-style:normal;font-weight:700;src:url(https://fonts.gstatic.com/s/outfit/v11/QGYyz_MVcBeNP4NjuGObqx1XmO1I4deyC4I.woff) format('woff')}@font-face{font-family:'Outfit';font-style:normal;font-weight:900;src:url(https://fonts.gstatic.com/s/outfit/v11/QGYyz_MVcBeNP4NjuGObqx1XmO1I4ZmyC4I.woff) format('woff')}@font-face{font-family:'Paytone One';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/paytoneone/v23/0nksC9P7MfYHj2oFtYm2CiTp.woff) format('woff')}@font-face{font-family:'Fira Mono';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/firamono/v14/N0bX2SlFPv1weGeLZDtgK_7Ss9XZYalI.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Fira Mono';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/firamono/v14/N0bX2SlFPv1weGeLZDtgIv7Ss9XZYalI.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Fira Mono';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/firamono/v14/N0bX2SlFPv1weGeLZDtgKv7Ss9XZYalI.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Fira Mono';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/firamono/v14/N0bX2SlFPv1weGeLZDtgJf7Ss9XZYalI.woff2) format('woff2');unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:'Fira Mono';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/firamono/v14/N0bX2SlFPv1weGeLZDtgKP7Ss9XZYalI.woff2) format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Fira Mono';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/firamono/v14/N0bX2SlFPv1weGeLZDtgJv7Ss9XZYQ.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Outfit';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/outfit/v11/QGYvz_MVcBeNP4NJuktqUYLkn8BJ.woff2) format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Outfit';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/outfit/v11/QGYvz_MVcBeNP4NJtEtqUYLknw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Outfit';font-style:normal;font-weight:500;src:url(https://fonts.gstatic.com/s/outfit/v11/QGYvz_MVcBeNP4NJuktqUYLkn8BJ.woff2) format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Outfit';font-style:normal;font-weight:500;src:url(https://fonts.gstatic.com/s/outfit/v11/QGYvz_MVcBeNP4NJtEtqUYLknw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Outfit';font-style:normal;font-weight:700;src:url(https://fonts.gstatic.com/s/outfit/v11/QGYvz_MVcBeNP4NJuktqUYLkn8BJ.woff2) format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Outfit';font-style:normal;font-weight:700;src:url(https://fonts.gstatic.com/s/outfit/v11/QGYvz_MVcBeNP4NJtEtqUYLknw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Outfit';font-style:normal;font-weight:900;src:url(https://fonts.gstatic.com/s/outfit/v11/QGYvz_MVcBeNP4NJuktqUYLkn8BJ.woff2) format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Outfit';font-style:normal;font-weight:900;src:url(https://fonts.gstatic.com/s/outfit/v11/QGYvz_MVcBeNP4NJtEtqUYLknw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Paytone One';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/paytoneone/v23/0nksC9P7MfYHj2oFtYm2ChTigPvfiwq-FQc.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Paytone One';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/paytoneone/v23/0nksC9P7MfYHj2oFtYm2ChTjgPvfiwq-FQc.woff2) format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Paytone One';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/paytoneone/v23/0nksC9P7MfYHj2oFtYm2ChTtgPvfiwq-.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body><div id="__next"><div style="position:fixed;z-index:9999;top:16px;left:16px;right:16px;bottom:16px;pointer-events:none"></div><div class="text-white"><div class="bg-brand-coal"><nav class="flex justify-between items-center mb-10 p-8 container mx-auto gap-12"><a class="block relative" href="/"><img width="48" src="/images/bytes-icon.png" alt="Bytes by ui.dev"/></a><div class="flex gap-8"><a class="sm:text-xl text-biege hover:text-yellow underline" href="/advertise">advertise</a><a class="sm:text-xl text-biege hover:text-yellow underline" href="/archives">archives</a></div></nav><div class="mx-auto md:pt-14 md:pb-8 text-center max-w-[75ch]"><h1 class="font-black text-3xl lg:text-6xl uppercase"> macaroni in the pot</h1><div class="text-sm sm:text-lg font-normal font-mono mt-6"><span class="mr-6 font-bold">Issue #<!-- -->67<!-- -->.</span><span class="mr-6 font-bold">September 27, 2021<!-- -->.</span><span class="font-bold">2 Minute read.</span></div></div></div><div class="p-8 pt-0 relative xl:grid xl:grid-cols-[1fr_auto_1fr] gap-10"><div class="hidden xl:block"></div><div style="line-height:32.36px;font-size:20px" class="jsx-undefined post max-w-[600px] mx-auto"><div class="jsx-undefined"><html><head></head><body><div style="max-width:600px;padding-top:80px"><div style="text-align:center"><img width="600" style="padding-bottom:40px;max-width:100%" src="https://bytes.dev/images/bytes-banner-rounded.png" alt="Bytes"></div><p>This week, we’ve got you an invite to JavaScript PartyTown, TinyTown, and HalloweenTown. Welcome to #67.</p>
<hr>
<p><img src="https://bytes.dev/images/content/party.png" alt="HotRod Meme">
</p><p class="image-alt">Nobody parties but me, ok?</p><p></p>
<h2>PartyTown wants to speed up your JavaScript thread</h2>
<p><strong>It’s kind of like PartyCity…</strong> but instead of being a semi-creepy converted warehouse where you go to buy Halloween costumes and the occasional piñata, Party<em>Town</em> is a cool (still experimental) new library that makes loading third-party scripts easier and faster using Web Workers and some good old-fashioned JavaScript voodoo.</p>
<p><strong>What problem does it solve?</strong> Third-party scripts (like trackers, ad networks, etc.) often load and execute a lot of JavaScript. This can slow down the main thread, which makes the UI unresponsive and your users <del>visibly angry</del> <em>not down to party</em>. <a href="https://github.com/BuilderIO/partytown">PartyTown</a> solves this by running these third-party scripts in a web worker, so they don’t block the main thread.</p>
<p>That sounds simple enough, but this is one of those (many) things in web development that’s a lot trickier than it sounds.</p>
<p>For one thing, third-party scripts often need to access DOM APIs and the <code>window</code> object — but you can’t do that from within a Web Worker directly. Plus, the bridge between Web Workers and the main thread has to be async — but third-party scripts expect DOM/window API calls to be <em>synchronous</em>.</p>
<p><strong>How does it work?</strong> Like we said, it’s Voodoo. PartyTown starts by creating a JavaScript Proxy in the Web Worker for DOM/window APIs, where it can intercept those requests. From there, it sends the message to the main thread, gets the response back, and passes it along to the third-party script. For the async problem, it (very cleverly) uses a Synchronous XHR Request, which blocks the thread while the request is being made.</p>
<p><em>“But wait, isn’t blocking the thread bad? JavaScript is a single-threaded language!!”</em> That’s correct, except this isn’t blocking the main thread — it’s blocking the worker thread. And we don’t care if that gets blocked, as long as the main thread stays responsive #bigbrain.</p>
<p><strong>Bottom Line:</strong> The third-party runs in a worker, but can still call DOM/window APIs without knowing any better — the best of both worlds. Maybe they should rename the library, <em>PartyInTheUSA</em>Town?</p>
<hr>
<p><img src="https://bytes.dev/images/content/sentry.png" alt="Sentry Meme">
</p><p class="image-alt">The hero we deserve [sponsored]</p><p></p>
<h2><a href="https://sentry.io/signup?utm_medium=paid-newsletter&amp;utm_source=bytes&amp;utm_campaign=sept-27">Sentry Saved My Life</a></h2>
<p>I had that same nightmare again last night.</p>
<p>The one where I get woken up at 2:00 am by 17 Slack notifications, and my phone sounds like the National Guard is knocking my door into the ground:</p>
<blockquote>
<p>Prod crashed again.</p>
</blockquote>
<blockquote>
<p>Different bug this time.</p>
</blockquote>
<blockquote>
<p>Can’t find it.</p>
</blockquote>
<blockquote>
<p>Could you hop online for a bit?</p>
</blockquote>
<p><span role="img" aria-label="skull">💀</span><span role="img" aria-label="skull">💀</span><span role="img" aria-label="skull">💀</span></p>
<p>Oh wait, that wasn’t a nightmare — that was literally what happened to me every few weeks before my old company finally started using <a href="https://sentry.io/signup?utm_medium=paid-newsletter&amp;utm_source=bytes&amp;utm_campaign=sept-27">Sentry</a>.</p>
<p>Sentry makes it 100x easier to monitor your app’s errors and performance, so that you can quickly catch and fix issues <em>during the day time</em> — instead of frantically trying to un-crash your app in the middle of the night. Plus, they’ve got individual SDK’s and <a href="https://docs.sentry.io/platforms/javascript/?utm_medium=paid-newsletter&amp;utm_source=bytes&amp;utm_campaign=sept-27">solid documentation</a> for every major technology, so it’s super simple to set up.</p>
<p><a href="https://sentry.io/signup?utm_medium=paid-newsletter&amp;utm_source=bytes&amp;utm_campaign=sept-27">Try 1 month of Sentry’s Business Plan for free</a> with the promo code <strong>BYTES</strong>, and go back to having normal anxiety dreams about stuff like <em>climate change</em> or <em>being back in middle school</em>.</p>
<hr>
<p><img src="https://bytes.dev/images/content/motionone.png" alt="LOTR meme">
</p><p class="image-alt">Such a little thing</p><p></p>
<h2>Next stop, Tiny Town</h2>
<p><a href="https://motion.dev/">Motion One</a> was just released last week, and it bills itself as “the smallest fully-featured animation library for the web.” It was created by <a href="https://twitter.com/mattgperry">Matt Perry</a>, who’s also the creator of Framer Motion (when he’s not playing Chandler in <em>Friends</em>).</p>
<p><strong>The secret’s in the WAAPI.</strong> We’re not talking about “macaroni in the pot” — we’re talking about the not-super-well-known <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Animations_API/Web_Animations_API_Concepts">Web Animations API</a>. This native browser API was released six years ago to try and fill the gap between declarative CSS animations and transitions, and dynamic JavaScript animations. But it never really caught on because of how big and clunky it is.</p>
<p><strong>Enter Motion One.</strong> It packs the power of WAAPI into a more minimalist API that feels like a <em>modern</em> JavaScript animation library you’d actually want to use — complete with features like Timeline, Key Frames, Options, and (coming soon) Springs.</p>
<p>This WAAPI-based approach gives Motion One a few key advantages:</p>
<ul>
<li>
<p><strong>Smaller bundle sizes</strong> — Because it doesn’t need to force users to download code that’s already present in their browser.</p>
</li>
<li>
<p><strong>Hardware acceleration</strong> — Even if your app is already running a bunch of other JavaScript, your animations stay smooth because they can run outside the main JavaScript thread (usually on the GPU).</p>
</li>
<li>
<p><strong>Better value interpolation</strong> — Motion One is able to use the browser’s interpolation code, which is typically much better and makes your relevant animations more performant.</p>
</li>
</ul>
<p><strong>Motion One’s biggest tradeoff</strong> is that WAAPI can only animate CSS styles (not JavaScript values, SVG attributes, or HTML text). Future polyfills could allow Motion One to support these animations at some point, and Matt should have more time to work on it now that the <em>Friends</em> reunion just wrapped up shooting.</p>
<hr>
<h2>Cool Bits</h2>
<ol>
<li>
<p><a href="https://appwrite.io/?utm_source=newsletter&amp;utm_medium=email&amp;utm_campaign=bytes.dev">Appwrite</a> is an open source Firebase alternative that makes cross platform app development easy. It’s got a realtime database, file storage, serverless functions, numerous authentication methods and an architecture that’s focused on scalability, privacy, security and self-hosting out of the box. [sponsored]</p>
</li>
<li>
<p><a href="https://github.com/cesanta/elk">Elk</a> is a new, tiny JavaScript engine for embedded systems that implements a subset of ES6 and is definitely on that Joe Rogan <a href="https://www.youtube.com/watch?v=POXHEfbHByQ">diet</a>.</p>
</li>
<li>
<p>Our very own Alex Anderson just made a great video on <a href="https://www.youtube.com/watch?v=gdauQEr-Jls">Rate Limiting in JavaScript</a>. If you don’t immediately watch and forward it to 8 friends, your crush will **<em>never</em>** like you back!!!</p>
</li>
<li>
<p><a href="https://codepen.io/oscarsaharoy/full/vYmoqpB">Strange attractors</a> is a Vanilla JavaScript app where you can generate and visualize strange attractor geometry with thousands of points. Pretty sure that “strange attractor geometry” is the name of the DnD spell that Grimes cast as a joke, but two weeks later her and Elon were dating.</p>
</li>
<li>
<p>Elijah made this tutorial to show off <a href="https://elijahmanor.com/blog/neovim-tmux">a few handy Neovim plugins</a> that make his JavaScript and TypeScript development easier. You know what makes my TypeScript development easier? <code>any</code>.</p>
</li>
<li>
<p>Lots of new animation libraries this week, and Aria created <a href="https://github.com/ariaminaei/theatre">Theatre.js</a> — an animation library for high-fidelity motion graphics.</p>
</li>
<li>
<p>Prateek wrote this helpful <a href="https://prateeksurana.me/blog/javascript-developer-guide-to-browser-cookies/">JavaScript developer’s guide to browser cookies</a>. I’m still waiting for one of the Facebook developers to write an article about what cookies they used in order to immediately bombard me with ads for ”<em>HalloweenTown 2: Kalabar’s Revenge</em> couples costumes,” when all I did was send one measly text to my wife about it <strong>as a joke,</strong> ok??</p>
</li>
</ol></div></body></html></div></div><aside class="sticky top-20 self-start justify-self-center hidden xl:block mt-80"><div class="grid gap-4 max-w-xs"><div><p class="mb-6 text-center text-xl">Subscribe to join<!-- --> <span class="font-black">212,301</span> <!-- -->developers who receive Bytes each week, for free.</p><input class="rounded-tl rounded-tr font-medium appearance-none rounded-none float-left text-base mt-0 p-2 w-full h-11 border-none placeholder-biege/50 bg-charcoal focus:outline-none focus:ring-2 focus:ring-blue focus:border-transparent" type="email" autoComplete="email" placeholder="email address"/><button class="w-full text-black rounded-br rounded-bl text-sm md:text-lg font-black bg-yellow rounded-none float-left h-10 shadow-none uppercase disabled:opacity-50 focus:outline-none focus:ring-2 focus:ring-blue focus:border-transparent active:bg-yellow-600">Subscribe</button></div></div></aside></div></div><footer class="mt-20 py-8 lg:pt-20 lg:pb-10 relative bg-brand-charcoal text-brand-biege"><div class="container mx-auto px-8 mb-12 flex justify-center"><img src="/images/bytes-icon.png" alt="Bytes" width="48"/></div><div class="container mx-auto px-8 pb-8"><div><ul class="list-unstyled flex justify-center flex-wrap gap-4 text-sm"><li><a class="underline" href="/archives">Archives</a></li><li><a class="underline" href="/advertise">Advertise</a></li><li><a class="underline" target="_blank" rel="noopener noreferrer" href="https://npmtrends.com">npmtrends</a></li><li><a class="underline" target="_blank" rel="noopener noreferrer" href="https://react.gg">Learn React</a></li><li><a class="underline" target="_blank" rel="noopener noreferrer" href="https://query.gg">Learn React Query</a></li><li><a class="underline" target="_blank" rel="noopener noreferrer" href="https://usehooks.com">useHooks</a></li></ul></div></div><p class="text-center mb-8">Made with ❤️ by<!-- --> <a class="text-brand-red underline" href="https://ui.dev">uidotdev</a></p></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"subcount":212301,"post":{"data":{"title":"Bytes: macaroni in the pot","date":"2021-09-27","description":"This issue, we've got you an invite to JavaScript PartyTown, TinyTown, and HalloweenTown.","featuredImage":"https://bytes.dev/images/content/party.png"},"content":"\u003chtml\u003e\u003chead\u003e\u003c/head\u003e\u003cbody\u003e\u003cdiv style=\"max-width:600px;padding-top:80px\"\u003e\u003cdiv style=\"text-align:center\"\u003e\u003cimg width=\"600\" style=\"padding-bottom:40px;max-width:100%\" src=\"https://bytes.dev/images/bytes-banner-rounded.png\" alt=\"Bytes\"\u003e\u003c/div\u003e\u003cp\u003eThis week, we’ve got you an invite to JavaScript PartyTown, TinyTown, and HalloweenTown. Welcome to #67.\u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cimg src=\"https://bytes.dev/images/content/party.png\" alt=\"HotRod Meme\"\u003e\n\u003c/p\u003e\u003cp class=\"image-alt\"\u003eNobody parties but me, ok?\u003c/p\u003e\u003cp\u003e\u003c/p\u003e\n\u003ch2\u003ePartyTown wants to speed up your JavaScript thread\u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003eIt’s kind of like PartyCity…\u003c/strong\u003e but instead of being a semi-creepy converted warehouse where you go to buy Halloween costumes and the occasional piñata, Party\u003cem\u003eTown\u003c/em\u003e is a cool (still experimental) new library that makes loading third-party scripts easier and faster using Web Workers and some good old-fashioned JavaScript voodoo.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eWhat problem does it solve?\u003c/strong\u003e Third-party scripts (like trackers, ad networks, etc.) often load and execute a lot of JavaScript. This can slow down the main thread, which makes the UI unresponsive and your users \u003cdel\u003evisibly angry\u003c/del\u003e \u003cem\u003enot down to party\u003c/em\u003e. \u003ca href=\"https://github.com/BuilderIO/partytown\"\u003ePartyTown\u003c/a\u003e solves this by running these third-party scripts in a web worker, so they don’t block the main thread.\u003c/p\u003e\n\u003cp\u003eThat sounds simple enough, but this is one of those (many) things in web development that’s a lot trickier than it sounds.\u003c/p\u003e\n\u003cp\u003eFor one thing, third-party scripts often need to access DOM APIs and the \u003ccode\u003ewindow\u003c/code\u003e object — but you can’t do that from within a Web Worker directly. Plus, the bridge between Web Workers and the main thread has to be async — but third-party scripts expect DOM/window API calls to be \u003cem\u003esynchronous\u003c/em\u003e.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eHow does it work?\u003c/strong\u003e Like we said, it’s Voodoo. PartyTown starts by creating a JavaScript Proxy in the Web Worker for DOM/window APIs, where it can intercept those requests. From there, it sends the message to the main thread, gets the response back, and passes it along to the third-party script. For the async problem, it (very cleverly) uses a Synchronous XHR Request, which blocks the thread while the request is being made.\u003c/p\u003e\n\u003cp\u003e\u003cem\u003e“But wait, isn’t blocking the thread bad? JavaScript is a single-threaded language!!”\u003c/em\u003e That’s correct, except this isn’t blocking the main thread — it’s blocking the worker thread. And we don’t care if that gets blocked, as long as the main thread stays responsive #bigbrain.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eBottom Line:\u003c/strong\u003e The third-party runs in a worker, but can still call DOM/window APIs without knowing any better — the best of both worlds. Maybe they should rename the library, \u003cem\u003ePartyInTheUSA\u003c/em\u003eTown?\u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cimg src=\"https://bytes.dev/images/content/sentry.png\" alt=\"Sentry Meme\"\u003e\n\u003c/p\u003e\u003cp class=\"image-alt\"\u003eThe hero we deserve [sponsored]\u003c/p\u003e\u003cp\u003e\u003c/p\u003e\n\u003ch2\u003e\u003ca href=\"https://sentry.io/signup?utm_medium=paid-newsletter\u0026amp;utm_source=bytes\u0026amp;utm_campaign=sept-27\"\u003eSentry Saved My Life\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eI had that same nightmare again last night.\u003c/p\u003e\n\u003cp\u003eThe one where I get woken up at 2:00 am by 17 Slack notifications, and my phone sounds like the National Guard is knocking my door into the ground:\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eProd crashed again.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp\u003eDifferent bug this time.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp\u003eCan’t find it.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp\u003eCould you hop online for a bit?\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e\u003cspan role=\"img\" aria-label=\"skull\"\u003e💀\u003c/span\u003e\u003cspan role=\"img\" aria-label=\"skull\"\u003e💀\u003c/span\u003e\u003cspan role=\"img\" aria-label=\"skull\"\u003e💀\u003c/span\u003e\u003c/p\u003e\n\u003cp\u003eOh wait, that wasn’t a nightmare — that was literally what happened to me every few weeks before my old company finally started using \u003ca href=\"https://sentry.io/signup?utm_medium=paid-newsletter\u0026amp;utm_source=bytes\u0026amp;utm_campaign=sept-27\"\u003eSentry\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eSentry makes it 100x easier to monitor your app’s errors and performance, so that you can quickly catch and fix issues \u003cem\u003eduring the day time\u003c/em\u003e — instead of frantically trying to un-crash your app in the middle of the night. Plus, they’ve got individual SDK’s and \u003ca href=\"https://docs.sentry.io/platforms/javascript/?utm_medium=paid-newsletter\u0026amp;utm_source=bytes\u0026amp;utm_campaign=sept-27\"\u003esolid documentation\u003c/a\u003e for every major technology, so it’s super simple to set up.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://sentry.io/signup?utm_medium=paid-newsletter\u0026amp;utm_source=bytes\u0026amp;utm_campaign=sept-27\"\u003eTry 1 month of Sentry’s Business Plan for free\u003c/a\u003e with the promo code \u003cstrong\u003eBYTES\u003c/strong\u003e, and go back to having normal anxiety dreams about stuff like \u003cem\u003eclimate change\u003c/em\u003e or \u003cem\u003ebeing back in middle school\u003c/em\u003e.\u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cimg src=\"https://bytes.dev/images/content/motionone.png\" alt=\"LOTR meme\"\u003e\n\u003c/p\u003e\u003cp class=\"image-alt\"\u003eSuch a little thing\u003c/p\u003e\u003cp\u003e\u003c/p\u003e\n\u003ch2\u003eNext stop, Tiny Town\u003c/h2\u003e\n\u003cp\u003e\u003ca href=\"https://motion.dev/\"\u003eMotion One\u003c/a\u003e was just released last week, and it bills itself as “the smallest fully-featured animation library for the web.” It was created by \u003ca href=\"https://twitter.com/mattgperry\"\u003eMatt Perry\u003c/a\u003e, who’s also the creator of Framer Motion (when he’s not playing Chandler in \u003cem\u003eFriends\u003c/em\u003e).\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eThe secret’s in the WAAPI.\u003c/strong\u003e We’re not talking about “macaroni in the pot” — we’re talking about the not-super-well-known \u003ca href=\"https://developer.mozilla.org/en-US/docs/Web/API/Web_Animations_API/Web_Animations_API_Concepts\"\u003eWeb Animations API\u003c/a\u003e. This native browser API was released six years ago to try and fill the gap between declarative CSS animations and transitions, and dynamic JavaScript animations. But it never really caught on because of how big and clunky it is.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eEnter Motion One.\u003c/strong\u003e It packs the power of WAAPI into a more minimalist API that feels like a \u003cem\u003emodern\u003c/em\u003e JavaScript animation library you’d actually want to use — complete with features like Timeline, Key Frames, Options, and (coming soon) Springs.\u003c/p\u003e\n\u003cp\u003eThis WAAPI-based approach gives Motion One a few key advantages:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eSmaller bundle sizes\u003c/strong\u003e — Because it doesn’t need to force users to download code that’s already present in their browser.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eHardware acceleration\u003c/strong\u003e — Even if your app is already running a bunch of other JavaScript, your animations stay smooth because they can run outside the main JavaScript thread (usually on the GPU).\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eBetter value interpolation\u003c/strong\u003e — Motion One is able to use the browser’s interpolation code, which is typically much better and makes your relevant animations more performant.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003eMotion One’s biggest tradeoff\u003c/strong\u003e is that WAAPI can only animate CSS styles (not JavaScript values, SVG attributes, or HTML text). Future polyfills could allow Motion One to support these animations at some point, and Matt should have more time to work on it now that the \u003cem\u003eFriends\u003c/em\u003e reunion just wrapped up shooting.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2\u003eCool Bits\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"https://appwrite.io/?utm_source=newsletter\u0026amp;utm_medium=email\u0026amp;utm_campaign=bytes.dev\"\u003eAppwrite\u003c/a\u003e is an open source Firebase alternative that makes cross platform app development easy. It’s got a realtime database, file storage, serverless functions, numerous authentication methods and an architecture that’s focused on scalability, privacy, security and self-hosting out of the box. [sponsored]\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/cesanta/elk\"\u003eElk\u003c/a\u003e is a new, tiny JavaScript engine for embedded systems that implements a subset of ES6 and is definitely on that Joe Rogan \u003ca href=\"https://www.youtube.com/watch?v=POXHEfbHByQ\"\u003ediet\u003c/a\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eOur very own Alex Anderson just made a great video on \u003ca href=\"https://www.youtube.com/watch?v=gdauQEr-Jls\"\u003eRate Limiting in JavaScript\u003c/a\u003e. If you don’t immediately watch and forward it to 8 friends, your crush will **\u003cem\u003enever\u003c/em\u003e** like you back!!!\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"https://codepen.io/oscarsaharoy/full/vYmoqpB\"\u003eStrange attractors\u003c/a\u003e is a Vanilla JavaScript app where you can generate and visualize strange attractor geometry with thousands of points. Pretty sure that “strange attractor geometry” is the name of the DnD spell that Grimes cast as a joke, but two weeks later her and Elon were dating.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eElijah made this tutorial to show off \u003ca href=\"https://elijahmanor.com/blog/neovim-tmux\"\u003ea few handy Neovim plugins\u003c/a\u003e that make his JavaScript and TypeScript development easier. You know what makes my TypeScript development easier? \u003ccode\u003eany\u003c/code\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eLots of new animation libraries this week, and Aria created \u003ca href=\"https://github.com/ariaminaei/theatre\"\u003eTheatre.js\u003c/a\u003e — an animation library for high-fidelity motion graphics.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003ePrateek wrote this helpful \u003ca href=\"https://prateeksurana.me/blog/javascript-developer-guide-to-browser-cookies/\"\u003eJavaScript developer’s guide to browser cookies\u003c/a\u003e. I’m still waiting for one of the Facebook developers to write an article about what cookies they used in order to immediately bombard me with ads for ”\u003cem\u003eHalloweenTown 2: Kalabar’s Revenge\u003c/em\u003e couples costumes,” when all I did was send one measly text to my wife about it \u003cstrong\u003eas a joke,\u003c/strong\u003e ok??\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\u003c/div\u003e\u003c/body\u003e\u003c/html\u003e","slug":"67"}},"__N_SSG":true},"page":"/archives/[slug]","query":{"slug":"67"},"buildId":"dY9LIRQQ58VhV_MFEhYS7","runtimeConfig":{"nextPlausiblePublicProxyOptions":{"trailingSlash":false}},"isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>