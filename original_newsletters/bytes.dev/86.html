<!DOCTYPE html><html><head><meta charSet="utf-8"/><link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png"/><link rel="manifest" href="/favicon/site.webmanifest"/><link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#000000"/><meta name="msapplication-TileColor" content="#000000"/><meta name="theme-color" content="#000000"/><title>Bytes #86 - butterflies aren&#x27;t made out of butter</title><link rel="canonical" href="https://bytes.dev/archives/86"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="description" content="This issue, we&#x27;ve got a new Node API that was years in the making, Vercel hiring Kendrick Lamar, and a makeover for my mommy blog."/><meta property="og:url" content="https://bytes.dev/archives/86"/><meta property="og:title" content="Bytes #86 - butterflies aren&#x27;t made out of butter"/><meta property="og:type" content="website"/><meta property="og:image" content="https://bytes.devhttps://bytes.dev/images/content/fetch.png"/><meta property="og:site_name" content="Bytes by ui.dev"/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="630"/><meta property="og:description" content="This issue, we&#x27;ve got a new Node API that was years in the making, Vercel hiring Kendrick Lamar, and a makeover for my mommy blog."/><meta property="twitter:url" content="https://bytes.dev/"/><meta property="twitter:title" content="Bytes #86 - butterflies aren&#x27;t made out of butter"/><meta property="twitter:description" content="This issue, we&#x27;ve got a new Node API that was years in the making, Vercel hiring Kendrick Lamar, and a makeover for my mommy blog."/><meta property="twitter:image" content="https://bytes.devhttps://bytes.dev/images/content/fetch.png"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:creator" content="uidotdev"/><meta name="next-head-count" content="26"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="true"/><noscript><img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=2712034659094542&amp;ev=PageView&amp;noscript=1"/></noscript><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><link rel="preload" href="/_next/static/css/4cfe03ce098bd055.css" as="style"/><link rel="stylesheet" href="/_next/static/css/4cfe03ce098bd055.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-45c1d38871d29bef.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-2eac51a0f0ef9b48.js" defer=""></script><script src="/_next/static/chunks/pages/_app-19dca011c0f14f43.js" defer=""></script><script src="/_next/static/chunks/17007de1-87d7b770c56a584a.js" defer=""></script><script src="/_next/static/chunks/318-62d05fcf8d1400db.js" defer=""></script><script src="/_next/static/chunks/pages/archives/%5Bslug%5D-c56c612fe73a68c8.js" defer=""></script><script src="/_next/static/dY9LIRQQ58VhV_MFEhYS7/_buildManifest.js" defer=""></script><script src="/_next/static/dY9LIRQQ58VhV_MFEhYS7/_ssgManifest.js" defer=""></script><style id="__jsx-undefined">
    .email-wrapper {
      color: #231F20;
      background-color: #FFF;
      font-size: 16px;
      font-family: Outfit, sans-serif;
    }

    p {
      font-family: Outfit, sans-serif;
      line-height: 1.5;
      font-size: 17px;
    }

    h3, * + p:not([class]) {
      padding-left: 24px;
      padding-right: 24px;
    }

    a:not([class]) {
      color: #12b5e5;
      text-decoration: underline;
      font-weight: 600;
    }

    h2 {
      margin-top: 10px;
    }

    h3 {
      font-size: 24px;
      margin-bottom: 0;
      padding-left: 24px;
      padding-right: 24px;
    }
    

    h4 {
      font-size: 19px;
      margin-bottom: 0;
      padding-left: 24px;
      padding-right: 24px;
    }
    
    img {
      max-width: 100%;
    }

    strong {
      font-weight: 600;
    }

    pre {
      background-color: #f9f9f9;
      border: 1px solid #f9f9f9;
      color: #231F20;
      padding: 24px;
      border-radius: 8px;
    }

    table {
      border-collapse: collapse;
    }

    td {
      word-break: normal; border-collapse : collapse !important;
    }

    hr {
      border: 0;
      border-color: #f5f5f5;
      border-bottom: 5px solid;
      margin-top: 100px;
      margin-bottom: 100px;
    }

    .section-presenter p {
      font-size: 16px;
      margin-top: 5px;
    }

    mark {
      background-color: #F9F4DA;
      color: #231F20;
      padding-left: 2px;
      padding-right: 2px;
      border-radius: 2px;
    }

    .bg-alt {
      background-color: #f5f5f5;
    }

    @media (prefers-color-scheme: dark) {
      .email-wrapper {
        color: #F9F4DA !important;
        background-color: #0F0D0E !important;
      }

      hr {
        border-color: #262422 !important;
      }

      mark {
        background-color: #231F20 !important;
        color: #F9F4DA !important;
      }

      pre {
        background-color: #231F20 !important;
        border: 1px solid #231F20 !important;
        color: #F9F4DA !important;
      }

      .bg-alt { 
        background-color: #231F20 !important;
      }

      .unsubscribe-link {
        color: #8d8a7f !important;
      }

      .token.punctuation { 
        color: #f9f4da !important;
      }
    }

    @media screen and (min-width: 600px)  {
      .mobile-break { display: none; }
    }

    code[class*="language-"],
    pre[class*="language-"] {
      font-family: "Fira Mono", "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
      font-size: 14px;
      line-height: 1.5;
      direction: ltr;
      text-align: left;
      white-space: pre;
      word-spacing: normal;
      word-break: normal;
      -moz-tab-size: 2;
      -o-tab-size: 2;
      tab-size: 2;
      -webkit-hyphens: none;
      -moz-hyphens: none;
      -ms-hyphens: none;
      hyphens: none;
      color: #c0c5ce;
    }
    pre[class*=language-] {
      overflow: auto;
    }
    pre[class*="language-"]::-moz-selection,
    pre[class*="language-"] ::-moz-selection,
    code[class*="language-"]::-moz-selection,
    code[class*="language-"] ::-moz-selection {
      text-shadow: none;
      background: #a7adba;
    }
    pre[class*="language-"]::selection,
    pre[class*="language-"] ::selection,
    code[class*="language-"]::selection,
    code[class*="language-"] ::selection {
      text-shadow: none;
      background: #a7adba;
    }
    :not(pre) > code[class*="language-"] {
      padding: 3px;
      border-radius: 0.3em;
      white-space: normal;
    }
    .language-text {
      background: #36424D !important;
      padding: 3px 8px !important;
      color: #e5e5e5 !important;
    }
    code,
    code * {
      font-size: 14px;
    }
    code:not(pre) {
      font-size: 17px;
    }
    .token.comment {
      color: rgb(167, 167, 167);
    }
    .token.punctuation { 
      color: #231F20;
    }
    .token.deleted {
      color: #ed203d;
    }
    .token.inserted,
    .token.attr-name {
      color: #0ba95b;
    }
    .token.string,
    .token.url {
      color: #f99157;
    }
    .token.attr-value,
    .token.number {
      color: #fcba28;
    }
    .token.boolean,
    .token.keyword,
    .token.function {
      color: #9d7dce;
    }
    .token.keyword,
    .token.tag,
    .token.parameter,
    .token.method,
    .token.property-access {
      color: #f38ba3;
    }
    .token.changed,
    .token.property,
    .token.namespace,
    .token.operator,
    .token.selector,
    .token.doctype,
    .token.class-name,
    .token.builtin,
    .token.char,
    .token.constant,
    .token.interpolation {
      color: #12b5e5;
    }
</style><style data-styled="" data-styled-version="5.3.5"></style><style data-href="https://fonts.googleapis.com/css2?family=Fira+Mono&family=Outfit:wght@400;500;700;900&family=Paytone+One">@font-face{font-family:'Fira Mono';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/firamono/v14/N0bX2SlFPv1weGeLZDtQIg.woff) format('woff')}@font-face{font-family:'Outfit';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/outfit/v11/QGYyz_MVcBeNP4NjuGObqx1XmO1I4TC1C4I.woff) format('woff')}@font-face{font-family:'Outfit';font-style:normal;font-weight:500;src:url(https://fonts.gstatic.com/s/outfit/v11/QGYyz_MVcBeNP4NjuGObqx1XmO1I4QK1C4I.woff) format('woff')}@font-face{font-family:'Outfit';font-style:normal;font-weight:700;src:url(https://fonts.gstatic.com/s/outfit/v11/QGYyz_MVcBeNP4NjuGObqx1XmO1I4deyC4I.woff) format('woff')}@font-face{font-family:'Outfit';font-style:normal;font-weight:900;src:url(https://fonts.gstatic.com/s/outfit/v11/QGYyz_MVcBeNP4NjuGObqx1XmO1I4ZmyC4I.woff) format('woff')}@font-face{font-family:'Paytone One';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/paytoneone/v23/0nksC9P7MfYHj2oFtYm2CiTp.woff) format('woff')}@font-face{font-family:'Fira Mono';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/firamono/v14/N0bX2SlFPv1weGeLZDtgK_7Ss9XZYalI.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Fira Mono';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/firamono/v14/N0bX2SlFPv1weGeLZDtgIv7Ss9XZYalI.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Fira Mono';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/firamono/v14/N0bX2SlFPv1weGeLZDtgKv7Ss9XZYalI.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Fira Mono';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/firamono/v14/N0bX2SlFPv1weGeLZDtgJf7Ss9XZYalI.woff2) format('woff2');unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:'Fira Mono';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/firamono/v14/N0bX2SlFPv1weGeLZDtgKP7Ss9XZYalI.woff2) format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Fira Mono';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/firamono/v14/N0bX2SlFPv1weGeLZDtgJv7Ss9XZYQ.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Outfit';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/outfit/v11/QGYvz_MVcBeNP4NJuktqUYLkn8BJ.woff2) format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Outfit';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/outfit/v11/QGYvz_MVcBeNP4NJtEtqUYLknw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Outfit';font-style:normal;font-weight:500;src:url(https://fonts.gstatic.com/s/outfit/v11/QGYvz_MVcBeNP4NJuktqUYLkn8BJ.woff2) format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Outfit';font-style:normal;font-weight:500;src:url(https://fonts.gstatic.com/s/outfit/v11/QGYvz_MVcBeNP4NJtEtqUYLknw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Outfit';font-style:normal;font-weight:700;src:url(https://fonts.gstatic.com/s/outfit/v11/QGYvz_MVcBeNP4NJuktqUYLkn8BJ.woff2) format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Outfit';font-style:normal;font-weight:700;src:url(https://fonts.gstatic.com/s/outfit/v11/QGYvz_MVcBeNP4NJtEtqUYLknw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Outfit';font-style:normal;font-weight:900;src:url(https://fonts.gstatic.com/s/outfit/v11/QGYvz_MVcBeNP4NJuktqUYLkn8BJ.woff2) format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Outfit';font-style:normal;font-weight:900;src:url(https://fonts.gstatic.com/s/outfit/v11/QGYvz_MVcBeNP4NJtEtqUYLknw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Paytone One';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/paytoneone/v23/0nksC9P7MfYHj2oFtYm2ChTigPvfiwq-FQc.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Paytone One';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/paytoneone/v23/0nksC9P7MfYHj2oFtYm2ChTjgPvfiwq-FQc.woff2) format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Paytone One';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/paytoneone/v23/0nksC9P7MfYHj2oFtYm2ChTtgPvfiwq-.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body><div id="__next"><div style="position:fixed;z-index:9999;top:16px;left:16px;right:16px;bottom:16px;pointer-events:none"></div><div class="text-white"><div class="bg-brand-coal"><nav class="flex justify-between items-center mb-10 p-8 container mx-auto gap-12"><a class="block relative" href="/"><img width="48" src="/images/bytes-icon.png" alt="Bytes by ui.dev"/></a><div class="flex gap-8"><a class="sm:text-xl text-biege hover:text-yellow underline" href="/advertise">advertise</a><a class="sm:text-xl text-biege hover:text-yellow underline" href="/archives">archives</a></div></nav><div class="mx-auto md:pt-14 md:pb-8 text-center max-w-[75ch]"><h1 class="font-black text-3xl lg:text-6xl uppercase"> butterflies aren&#x27;t made out of butter</h1><div class="text-sm sm:text-lg font-normal font-mono mt-6"><span class="mr-6 font-bold">Issue #<!-- -->86<!-- -->.</span><span class="mr-6 font-bold">February 7, 2022<!-- -->.</span><span class="font-bold">2 Minute read.</span></div></div></div><div class="p-8 pt-0 relative xl:grid xl:grid-cols-[1fr_auto_1fr] gap-10"><div class="hidden xl:block"></div><div style="line-height:32.36px;font-size:20px" class="jsx-undefined post max-w-[600px] mx-auto"><div class="jsx-undefined"><html><head></head><body><div style="max-width:600px;padding-top:80px"><div style="text-align:center"><img width="600" style="padding-bottom:40px;max-width:100%" src="https://bytes.dev/images/bytes-banner-rounded.png" alt="Bytes"></div><p>This week, we’ve got a new Node API that was years in the making, Vercel hiring Kendrick Lamar, and a makeover for my mommy blog. Welcome to #86.</p>
<hr>
<p><img src="https://bytes.dev/images/content/fetch.png" alt="Fetch meme">
</p><p class="image-alt">The tables have turned</p><p></p>
<h2>Node.js finally embraces <code>fetch</code></h2>
<p>They did it. The Node.js team finally <a href="https://github.com/nodejs/node/pull/41749">made fetch happen</a>.</p>
<p><strong>Wtfetch?</strong> The <code>fetch</code> API makes it easy to make HTTP requests. Before <code>fetch</code>, we had to use the “butterfly” of the dev world, <code>XMLHttpRequest</code>. Despite their names, butterflies aren’t made out of butter and <code>XMLHttpRequest</code> can be used to retrieve any type of data, not just XML.</p>
<p><code>fetch</code> simplifies that process with a minimal Promise-based API, which is built on primitives like <code>Request</code> and <code>Response</code> that represent parts of the HTTP request lifecycle. It’s been around for a while — we’ve had <code>fetch</code> in browsers since 2015, and Deno’s had it since 2019.</p>
<p><strong>So what took Node so long? And why now?</strong></p>
<p>Turns out, browsers and Node are <a href="https://www.youtube.com/watch?v=F-n1AyJgaeY&amp;t=49s">not alike at all</a>. Features that already exist in browsers needed to be re-created in Node — like <code>Headers</code>, <code>EventTarget</code>, <code>AbortController</code>, <code>Blob</code>, <code>File</code>, <code>FormData</code>… you get it. And things that browsers take for granted, like “the origin” (aka the website making the HTTP request), don’t make sense in a server environment. Same goes for lots of browser security features.</p>
<p>So yeah, it’s a lot of work. Adding a browser-first API like <code>fetch</code> to Node is kind of like adding an open bar to your family reunion — it seems like a simple enough way to amp up the fun, but if you haven’t put in the time to figure out all the logistics, things will get very complicated very quickly.</p>
<p><strong>Why Now?</strong> The <code>fetch</code> addition was finally made possible by <code>http</code>, Node’s existing HTTP client. In 2018, the Node.js team started an effort called <a href="https://github.com/nodejs/undici">undici</a> (Italian for <a href="https://youtu.be/FGe8Lo_GXGQ?t=29">eleven</a>) to modernize and improve <code>http</code>. Undici uses Promises, which enables async/await, and is 14x faster than the existing API.</p>
<p>It’s literally taken years to implement everything needed in both Node core and undici, but it’s finally done. Last week, undici and its built-in <code>fetch</code> API were merged into Node.js core. You can use it when Node 18 comes out in April.</p>
<p><strong>Bottom Line:</strong> Having <code>fetch</code> in Node is <a href="https://www.youtube.com/watch?v=Hzx8KHjQD6c&amp;t=16s">kind of a big deal</a>. It provides a standard around fetching data that’s the same as browsers, which brings us one step closer to being able to use server code and client code interchangeably. Still upset about butterflies though.</p>
<hr>
<p><img src="https://bytes.dev/images/content/raygun.png" alt="Raygun Meme">
</p><p class="image-alt">The only pair programmer I’ll allow [sponsored]</p><p></p>
<h2><a href="https://raygun.com/?utm_medium=sponsorship&amp;utm_source=bytes&amp;utm_campaign=ui-dev&amp;utm_content=homepage">Raygun</a> gives you X-ray vision</h2>
<p>…for your code. Now stop looking at me like that.</p>
<p>Raygun has <a href="https://raygun.com/?utm_medium=sponsorship&amp;utm_source=bytes&amp;utm_campaign=ui-dev&amp;utm_content=homepage">super powerful tools</a> that make it easy to get all the diagnostics you care about for your team’s web and mobile apps. When there’s an issue, it shows you exactly what’s going on, who’s being impacted, and exactly how to fix the root cause – down to the specific line of code itself.</p>
<p>This <a href="https://raygun.com/?utm_medium=sponsorship&amp;utm_source=bytes&amp;utm_campaign=ui-dev&amp;utm_content=homepage">X-Ray Code Vision</a> lets you quickly prioritize fixing the issues that have the biggest impact on your users, so that you can quickly return to watching Spider-Man 3 starring Tobey Maguire (aka the greatest film of the 21st century).</p>
<p><a href="https://raygun.com/pricing?utm_medium=sponsorship&amp;utm_source=bytes&amp;utm_campaign=ui-dev&amp;utm_content=pricing">Start a 14-day free trial</a> of Raygun and give your team a tool that’ll genuinely make their lives easier. It only takes a few lines of code, and their simple <a href="https://raygun.com/pricing?utm_medium=sponsorship&amp;utm_source=bytes&amp;utm_campaign=ui-dev&amp;utm_content=pricing">usage-based plans</a> start at $4 a month – a small price to get your users to love you, your team to love you, and your stepdad to finally respect you.</p>
<p><a href="https://raygun.com/?utm_medium=sponsorship&amp;utm_source=bytes&amp;utm_campaign=ui-dev&amp;utm_content=homepage">Try it out.</a> Thank me later.</p>
<hr>
<p><img src="https://bytes.dev/images/content/mdx2.png" alt="MDX2 meme">
</p><p class="image-alt">First we gonna rock, then we gonna roll</p><p></p>
<h2>MDX 2</h2>
<p>Everyone’s favorite tool for <del>over-engineering your blog</del> <em>inserting cool components into long-form content</em> just got even better last week. I’m talking about MDX — the aptly named lovechild of markdown and JSX that <a href="https://mdxjs.com/blog/v2/">just released v2</a>.</p>
<p>This release comes 2.5 years after v1 was released, and it required almost a complete rewrite. Let’s dive into the highlights:</p>
<ul>
<li>
<p><strong>Formatting improvements</strong> — These make MDX feel more like <a href="https://mdxjs.com/blog/v2/#improvements-to-the-mdx-format">writing JSX</a> than markdown, which should make the whole experience more intuitive overall. They also added support for JavaScript expressions.</p>
</li>
<li>
<p><strong>Rollup and esbuild join the party</strong> — MDX used to only work with Babel and webpack, but now it’s got integrations for hot new build tools like Rollup and esbuild. You can also import MDX files directly in Node.js with the new <code>@mdx-js/node-loader</code>.</p>
</li>
<li>
<p><strong>Bring your own JSX runtime</strong> — MDX can now compile JSX to normal JavaScript, so any and all JSX runtimes are supported. You can still use React, but you can also use Vue, Preact, Emotion, or whatever other weird stuff you might be into (no judgment).</p>
</li>
</ul>
<p><strong>Bottom Line:</strong> This release should make MDX even more popular as it spreads its non butter wings beyond the React ecosystem. And it’s definitely going to revolutionize the mommy blog I’ve been ghostwriting about <em>gourment Italian food for the whole family.</em> My affiliate links for this <a href="https://www.amazon.com/AmazonBasics-Enameled-Covered-Dutch-6-Quart/dp/B073Q9WV8S/?ref=secret-bytes-mommy-blog-affiliate-link-get-that-money">Amazon Basics dutch oven</a> will be popping off once I seamlessly embed an interactive image of it in the middle of my <em>World’s Best Baked Ziti</em> recipe — which obviously begins with 20,000 words about the history my family, the etymology of the word “ziti”, and a quick breakdown of all the cool new features in MDX 2.</p>
<hr>
<h2>Cool Bits</h2>
<ol>
<li>
<p>Ryan Carniato (the creator of SolidJS) wrote a great breakdown on <a href="https://dev.to/this-is-learning/why-efficient-hydration-in-javascript-frameworks-is-so-challenging-1ca3">Why Efficient Hydration in JavaScript Frameworks is so Challenging</a>, along with the tradeoffs of each approach. I kept waiting for the big reveal of — <em>“SolidJS fixes all of these problems perfectly, and if you can’t see that then you’re not paying attention!!”</em> — but it never came. I guess Ryan’s still got a lot to learn about marketing before he raises $10m in venture capital like everyone else.</p>
</li>
<li>
<p>Storybook lets you pinpoint visual bugs automatically. Chromatic runs visual tests, publishes component docs and gathers UI feedback in one shared workspace. That helps you ship UIs with less manual work. <a href="https://www.chromatic.com/?utm_source=ui_dev_bytes&amp;utm_medium=sponsorship&amp;utm_campaign=q1_2022">Learn more »</a> [sponsored]</p>
</li>
<li>
<p>Vercel released a very aesthetically-pleasing <a href="https://vercel.com/blog/how-the-web-evolves">2021 Year in Review.</a> The best part was where they talked about how they hired Kendrick Lamar. Or maybe they just meant that a web developer built him a website with Next.js (??). Either way, you know that growth chart has Guillermo saying, <em><a href="https://youtu.be/AC4bb9Q9-04?t=22">Now I run the game, got the whole world talkin’</a>.</em></p>
</li>
<li>
<p>There was a little bit of an uproar last week when it was revealed that <a href="https://github.com/facebook/jest/pull/11529#issuecomment-1027152470">nobody at Facebook has worked on Jest for years</a>. Honestly based on <a href="https://www.marketwatch.com/story/meta-threatens-to-shutter-facebook-and-instagram-in-europe-over-data-transfer-dispute-11644262137">their stock price lately</a>, it feels like making fun of Meta is punching down for us now, so we’re going to stop.</p>
</li>
<li>
<p><a href="https://www.electronjs.org/blog/electron-17-0">Electron 17</a> was just released with some stack upgrades and a couple small breaking changes. <em>“bUt iSn’T iT SoOOo bIg ANd sLOw??”</em> Maybe, but the hand full of billion dollar companies built on it don’t seem to mind.</p>
</li>
<li>
<p><a href="https://github.com/gyroflow/gyroflow">Gyroflow</a> is a new Rust app for stabilizing video using motion data from a gyroscope, because Rust is everywhere and we cannot escape it.</p>
</li>
<li>
<p><a href="https://webvm.io/">WebVM</a> is a serverless virtual Linux environment that runs directly in your browser, thanks to a little JavaScript magic mixed with the WASM-based CheerpX x86 virtualization engine. If most of those words don’t make sense to you, check out the creator’s blog post on <a href="https://leaningtech.com/webvm-server-less-x86-virtual-machines-in-the-browser/">how they did it</a> (no guarantees that’ll actually help though).</p>
</li>
<li>
<p>Lee wrote about how <a href="https://www.leemeichin.com/posts/yes-i-can-connect-to-a-db-in-css.html">Yes, he can connect to a database in CSS</a>. Why? He says it’s because it had “been too long since I last embarked on a quality sh*tpost project.” Same thing I tell myself every time I sit down to write this newsletter. Thanks for reading.</p>
</li>
</ol></div></body></html></div></div><aside class="sticky top-20 self-start justify-self-center hidden xl:block mt-80"><div class="grid gap-4 max-w-xs"><div><p class="mb-6 text-center text-xl">Subscribe to join<!-- --> <span class="font-black">212,301</span> <!-- -->developers who receive Bytes each week, for free.</p><input class="rounded-tl rounded-tr font-medium appearance-none rounded-none float-left text-base mt-0 p-2 w-full h-11 border-none placeholder-biege/50 bg-charcoal focus:outline-none focus:ring-2 focus:ring-blue focus:border-transparent" type="email" autoComplete="email" placeholder="email address"/><button class="w-full text-black rounded-br rounded-bl text-sm md:text-lg font-black bg-yellow rounded-none float-left h-10 shadow-none uppercase disabled:opacity-50 focus:outline-none focus:ring-2 focus:ring-blue focus:border-transparent active:bg-yellow-600">Subscribe</button></div></div></aside></div></div><footer class="mt-20 py-8 lg:pt-20 lg:pb-10 relative bg-brand-charcoal text-brand-biege"><div class="container mx-auto px-8 mb-12 flex justify-center"><img src="/images/bytes-icon.png" alt="Bytes" width="48"/></div><div class="container mx-auto px-8 pb-8"><div><ul class="list-unstyled flex justify-center flex-wrap gap-4 text-sm"><li><a class="underline" href="/archives">Archives</a></li><li><a class="underline" href="/advertise">Advertise</a></li><li><a class="underline" target="_blank" rel="noopener noreferrer" href="https://npmtrends.com">npmtrends</a></li><li><a class="underline" target="_blank" rel="noopener noreferrer" href="https://react.gg">Learn React</a></li><li><a class="underline" target="_blank" rel="noopener noreferrer" href="https://query.gg">Learn React Query</a></li><li><a class="underline" target="_blank" rel="noopener noreferrer" href="https://usehooks.com">useHooks</a></li></ul></div></div><p class="text-center mb-8">Made with ❤️ by<!-- --> <a class="text-brand-red underline" href="https://ui.dev">uidotdev</a></p></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"subcount":212301,"post":{"data":{"title":"Bytes: butterflies aren't made out of butter","date":"2022-02-07","description":"This issue, we've got a new Node API that was years in the making, Vercel hiring Kendrick Lamar, and a makeover for my mommy blog.","featuredImage":"https://bytes.dev/images/content/fetch.png"},"content":"\u003chtml\u003e\u003chead\u003e\u003c/head\u003e\u003cbody\u003e\u003cdiv style=\"max-width:600px;padding-top:80px\"\u003e\u003cdiv style=\"text-align:center\"\u003e\u003cimg width=\"600\" style=\"padding-bottom:40px;max-width:100%\" src=\"https://bytes.dev/images/bytes-banner-rounded.png\" alt=\"Bytes\"\u003e\u003c/div\u003e\u003cp\u003eThis week, we’ve got a new Node API that was years in the making, Vercel hiring Kendrick Lamar, and a makeover for my mommy blog. Welcome to #86.\u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cimg src=\"https://bytes.dev/images/content/fetch.png\" alt=\"Fetch meme\"\u003e\n\u003c/p\u003e\u003cp class=\"image-alt\"\u003eThe tables have turned\u003c/p\u003e\u003cp\u003e\u003c/p\u003e\n\u003ch2\u003eNode.js finally embraces \u003ccode\u003efetch\u003c/code\u003e\u003c/h2\u003e\n\u003cp\u003eThey did it. The Node.js team finally \u003ca href=\"https://github.com/nodejs/node/pull/41749\"\u003emade fetch happen\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eWtfetch?\u003c/strong\u003e The \u003ccode\u003efetch\u003c/code\u003e API makes it easy to make HTTP requests. Before \u003ccode\u003efetch\u003c/code\u003e, we had to use the “butterfly” of the dev world, \u003ccode\u003eXMLHttpRequest\u003c/code\u003e. Despite their names, butterflies aren’t made out of butter and \u003ccode\u003eXMLHttpRequest\u003c/code\u003e can be used to retrieve any type of data, not just XML.\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003efetch\u003c/code\u003e simplifies that process with a minimal Promise-based API, which is built on primitives like \u003ccode\u003eRequest\u003c/code\u003e and \u003ccode\u003eResponse\u003c/code\u003e that represent parts of the HTTP request lifecycle. It’s been around for a while — we’ve had \u003ccode\u003efetch\u003c/code\u003e in browsers since 2015, and Deno’s had it since 2019.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eSo what took Node so long? And why now?\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eTurns out, browsers and Node are \u003ca href=\"https://www.youtube.com/watch?v=F-n1AyJgaeY\u0026amp;t=49s\"\u003enot alike at all\u003c/a\u003e. Features that already exist in browsers needed to be re-created in Node — like \u003ccode\u003eHeaders\u003c/code\u003e, \u003ccode\u003eEventTarget\u003c/code\u003e, \u003ccode\u003eAbortController\u003c/code\u003e, \u003ccode\u003eBlob\u003c/code\u003e, \u003ccode\u003eFile\u003c/code\u003e, \u003ccode\u003eFormData\u003c/code\u003e… you get it. And things that browsers take for granted, like “the origin” (aka the website making the HTTP request), don’t make sense in a server environment. Same goes for lots of browser security features.\u003c/p\u003e\n\u003cp\u003eSo yeah, it’s a lot of work. Adding a browser-first API like \u003ccode\u003efetch\u003c/code\u003e to Node is kind of like adding an open bar to your family reunion — it seems like a simple enough way to amp up the fun, but if you haven’t put in the time to figure out all the logistics, things will get very complicated very quickly.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eWhy Now?\u003c/strong\u003e The \u003ccode\u003efetch\u003c/code\u003e addition was finally made possible by \u003ccode\u003ehttp\u003c/code\u003e, Node’s existing HTTP client. In 2018, the Node.js team started an effort called \u003ca href=\"https://github.com/nodejs/undici\"\u003eundici\u003c/a\u003e (Italian for \u003ca href=\"https://youtu.be/FGe8Lo_GXGQ?t=29\"\u003eeleven\u003c/a\u003e) to modernize and improve \u003ccode\u003ehttp\u003c/code\u003e. Undici uses Promises, which enables async/await, and is 14x faster than the existing API.\u003c/p\u003e\n\u003cp\u003eIt’s literally taken years to implement everything needed in both Node core and undici, but it’s finally done. Last week, undici and its built-in \u003ccode\u003efetch\u003c/code\u003e API were merged into Node.js core. You can use it when Node 18 comes out in April.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eBottom Line:\u003c/strong\u003e Having \u003ccode\u003efetch\u003c/code\u003e in Node is \u003ca href=\"https://www.youtube.com/watch?v=Hzx8KHjQD6c\u0026amp;t=16s\"\u003ekind of a big deal\u003c/a\u003e. It provides a standard around fetching data that’s the same as browsers, which brings us one step closer to being able to use server code and client code interchangeably. Still upset about butterflies though.\u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cimg src=\"https://bytes.dev/images/content/raygun.png\" alt=\"Raygun Meme\"\u003e\n\u003c/p\u003e\u003cp class=\"image-alt\"\u003eThe only pair programmer I’ll allow [sponsored]\u003c/p\u003e\u003cp\u003e\u003c/p\u003e\n\u003ch2\u003e\u003ca href=\"https://raygun.com/?utm_medium=sponsorship\u0026amp;utm_source=bytes\u0026amp;utm_campaign=ui-dev\u0026amp;utm_content=homepage\"\u003eRaygun\u003c/a\u003e gives you X-ray vision\u003c/h2\u003e\n\u003cp\u003e…for your code. Now stop looking at me like that.\u003c/p\u003e\n\u003cp\u003eRaygun has \u003ca href=\"https://raygun.com/?utm_medium=sponsorship\u0026amp;utm_source=bytes\u0026amp;utm_campaign=ui-dev\u0026amp;utm_content=homepage\"\u003esuper powerful tools\u003c/a\u003e that make it easy to get all the diagnostics you care about for your team’s web and mobile apps. When there’s an issue, it shows you exactly what’s going on, who’s being impacted, and exactly how to fix the root cause – down to the specific line of code itself.\u003c/p\u003e\n\u003cp\u003eThis \u003ca href=\"https://raygun.com/?utm_medium=sponsorship\u0026amp;utm_source=bytes\u0026amp;utm_campaign=ui-dev\u0026amp;utm_content=homepage\"\u003eX-Ray Code Vision\u003c/a\u003e lets you quickly prioritize fixing the issues that have the biggest impact on your users, so that you can quickly return to watching Spider-Man 3 starring Tobey Maguire (aka the greatest film of the 21st century).\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://raygun.com/pricing?utm_medium=sponsorship\u0026amp;utm_source=bytes\u0026amp;utm_campaign=ui-dev\u0026amp;utm_content=pricing\"\u003eStart a 14-day free trial\u003c/a\u003e of Raygun and give your team a tool that’ll genuinely make their lives easier. It only takes a few lines of code, and their simple \u003ca href=\"https://raygun.com/pricing?utm_medium=sponsorship\u0026amp;utm_source=bytes\u0026amp;utm_campaign=ui-dev\u0026amp;utm_content=pricing\"\u003eusage-based plans\u003c/a\u003e start at $4 a month – a small price to get your users to love you, your team to love you, and your stepdad to finally respect you.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://raygun.com/?utm_medium=sponsorship\u0026amp;utm_source=bytes\u0026amp;utm_campaign=ui-dev\u0026amp;utm_content=homepage\"\u003eTry it out.\u003c/a\u003e Thank me later.\u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cimg src=\"https://bytes.dev/images/content/mdx2.png\" alt=\"MDX2 meme\"\u003e\n\u003c/p\u003e\u003cp class=\"image-alt\"\u003eFirst we gonna rock, then we gonna roll\u003c/p\u003e\u003cp\u003e\u003c/p\u003e\n\u003ch2\u003eMDX 2\u003c/h2\u003e\n\u003cp\u003eEveryone’s favorite tool for \u003cdel\u003eover-engineering your blog\u003c/del\u003e \u003cem\u003einserting cool components into long-form content\u003c/em\u003e just got even better last week. I’m talking about MDX — the aptly named lovechild of markdown and JSX that \u003ca href=\"https://mdxjs.com/blog/v2/\"\u003ejust released v2\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eThis release comes 2.5 years after v1 was released, and it required almost a complete rewrite. Let’s dive into the highlights:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eFormatting improvements\u003c/strong\u003e — These make MDX feel more like \u003ca href=\"https://mdxjs.com/blog/v2/#improvements-to-the-mdx-format\"\u003ewriting JSX\u003c/a\u003e than markdown, which should make the whole experience more intuitive overall. They also added support for JavaScript expressions.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eRollup and esbuild join the party\u003c/strong\u003e — MDX used to only work with Babel and webpack, but now it’s got integrations for hot new build tools like Rollup and esbuild. You can also import MDX files directly in Node.js with the new \u003ccode\u003e@mdx-js/node-loader\u003c/code\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eBring your own JSX runtime\u003c/strong\u003e — MDX can now compile JSX to normal JavaScript, so any and all JSX runtimes are supported. You can still use React, but you can also use Vue, Preact, Emotion, or whatever other weird stuff you might be into (no judgment).\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003eBottom Line:\u003c/strong\u003e This release should make MDX even more popular as it spreads its non butter wings beyond the React ecosystem. And it’s definitely going to revolutionize the mommy blog I’ve been ghostwriting about \u003cem\u003egourment Italian food for the whole family.\u003c/em\u003e My affiliate links for this \u003ca href=\"https://www.amazon.com/AmazonBasics-Enameled-Covered-Dutch-6-Quart/dp/B073Q9WV8S/?ref=secret-bytes-mommy-blog-affiliate-link-get-that-money\"\u003eAmazon Basics dutch oven\u003c/a\u003e will be popping off once I seamlessly embed an interactive image of it in the middle of my \u003cem\u003eWorld’s Best Baked Ziti\u003c/em\u003e recipe — which obviously begins with 20,000 words about the history my family, the etymology of the word “ziti”, and a quick breakdown of all the cool new features in MDX 2.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2\u003eCool Bits\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003eRyan Carniato (the creator of SolidJS) wrote a great breakdown on \u003ca href=\"https://dev.to/this-is-learning/why-efficient-hydration-in-javascript-frameworks-is-so-challenging-1ca3\"\u003eWhy Efficient Hydration in JavaScript Frameworks is so Challenging\u003c/a\u003e, along with the tradeoffs of each approach. I kept waiting for the big reveal of — \u003cem\u003e“SolidJS fixes all of these problems perfectly, and if you can’t see that then you’re not paying attention!!”\u003c/em\u003e — but it never came. I guess Ryan’s still got a lot to learn about marketing before he raises $10m in venture capital like everyone else.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eStorybook lets you pinpoint visual bugs automatically. Chromatic runs visual tests, publishes component docs and gathers UI feedback in one shared workspace. That helps you ship UIs with less manual work. \u003ca href=\"https://www.chromatic.com/?utm_source=ui_dev_bytes\u0026amp;utm_medium=sponsorship\u0026amp;utm_campaign=q1_2022\"\u003eLearn more »\u003c/a\u003e [sponsored]\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eVercel released a very aesthetically-pleasing \u003ca href=\"https://vercel.com/blog/how-the-web-evolves\"\u003e2021 Year in Review.\u003c/a\u003e The best part was where they talked about how they hired Kendrick Lamar. Or maybe they just meant that a web developer built him a website with Next.js (??). Either way, you know that growth chart has Guillermo saying, \u003cem\u003e\u003ca href=\"https://youtu.be/AC4bb9Q9-04?t=22\"\u003eNow I run the game, got the whole world talkin’\u003c/a\u003e.\u003c/em\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eThere was a little bit of an uproar last week when it was revealed that \u003ca href=\"https://github.com/facebook/jest/pull/11529#issuecomment-1027152470\"\u003enobody at Facebook has worked on Jest for years\u003c/a\u003e. Honestly based on \u003ca href=\"https://www.marketwatch.com/story/meta-threatens-to-shutter-facebook-and-instagram-in-europe-over-data-transfer-dispute-11644262137\"\u003etheir stock price lately\u003c/a\u003e, it feels like making fun of Meta is punching down for us now, so we’re going to stop.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"https://www.electronjs.org/blog/electron-17-0\"\u003eElectron 17\u003c/a\u003e was just released with some stack upgrades and a couple small breaking changes. \u003cem\u003e“bUt iSn’T iT SoOOo bIg ANd sLOw??”\u003c/em\u003e Maybe, but the hand full of billion dollar companies built on it don’t seem to mind.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/gyroflow/gyroflow\"\u003eGyroflow\u003c/a\u003e is a new Rust app for stabilizing video using motion data from a gyroscope, because Rust is everywhere and we cannot escape it.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"https://webvm.io/\"\u003eWebVM\u003c/a\u003e is a serverless virtual Linux environment that runs directly in your browser, thanks to a little JavaScript magic mixed with the WASM-based CheerpX x86 virtualization engine. If most of those words don’t make sense to you, check out the creator’s blog post on \u003ca href=\"https://leaningtech.com/webvm-server-less-x86-virtual-machines-in-the-browser/\"\u003ehow they did it\u003c/a\u003e (no guarantees that’ll actually help though).\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eLee wrote about how \u003ca href=\"https://www.leemeichin.com/posts/yes-i-can-connect-to-a-db-in-css.html\"\u003eYes, he can connect to a database in CSS\u003c/a\u003e. Why? He says it’s because it had “been too long since I last embarked on a quality sh*tpost project.” Same thing I tell myself every time I sit down to write this newsletter. Thanks for reading.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\u003c/div\u003e\u003c/body\u003e\u003c/html\u003e","slug":"86"}},"__N_SSG":true},"page":"/archives/[slug]","query":{"slug":"86"},"buildId":"dY9LIRQQ58VhV_MFEhYS7","runtimeConfig":{"nextPlausiblePublicProxyOptions":{"trailingSlash":false}},"isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>