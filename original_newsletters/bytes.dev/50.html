<!DOCTYPE html><html><head><meta charSet="utf-8"/><link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png"/><link rel="manifest" href="/favicon/site.webmanifest"/><link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#000000"/><meta name="msapplication-TileColor" content="#000000"/><meta name="theme-color" content="#000000"/><title>Bytes #50 - fork you... Or rather, fork us</title><link rel="canonical" href="https://bytes.dev/archives/50"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="description" content="This issue, we have blessing from TypeScript, Jest updates and boring avatars."/><meta property="og:url" content="https://bytes.dev/archives/50"/><meta property="og:title" content="Bytes #50 - fork you... Or rather, fork us"/><meta property="og:type" content="website"/><meta property="og:image" content="https://bytes.devhttps://bytes.dev/images/content/blink.png"/><meta property="og:site_name" content="Bytes by ui.dev"/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="630"/><meta property="og:description" content="This issue, we have blessing from TypeScript, Jest updates and boring avatars."/><meta property="twitter:url" content="https://bytes.dev/"/><meta property="twitter:title" content="Bytes #50 - fork you... Or rather, fork us"/><meta property="twitter:description" content="This issue, we have blessing from TypeScript, Jest updates and boring avatars."/><meta property="twitter:image" content="https://bytes.devhttps://bytes.dev/images/content/blink.png"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:creator" content="uidotdev"/><meta name="next-head-count" content="26"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="true"/><noscript><img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=2712034659094542&amp;ev=PageView&amp;noscript=1"/></noscript><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><link rel="preload" href="/_next/static/css/4cfe03ce098bd055.css" as="style"/><link rel="stylesheet" href="/_next/static/css/4cfe03ce098bd055.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-45c1d38871d29bef.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-2eac51a0f0ef9b48.js" defer=""></script><script src="/_next/static/chunks/pages/_app-19dca011c0f14f43.js" defer=""></script><script src="/_next/static/chunks/17007de1-87d7b770c56a584a.js" defer=""></script><script src="/_next/static/chunks/318-62d05fcf8d1400db.js" defer=""></script><script src="/_next/static/chunks/pages/archives/%5Bslug%5D-c56c612fe73a68c8.js" defer=""></script><script src="/_next/static/dY9LIRQQ58VhV_MFEhYS7/_buildManifest.js" defer=""></script><script src="/_next/static/dY9LIRQQ58VhV_MFEhYS7/_ssgManifest.js" defer=""></script><style id="__jsx-undefined">
    .email-wrapper {
      color: #231F20;
      background-color: #FFF;
      font-size: 16px;
      font-family: Outfit, sans-serif;
    }

    p {
      font-family: Outfit, sans-serif;
      line-height: 1.5;
      font-size: 17px;
    }

    h3, * + p:not([class]) {
      padding-left: 24px;
      padding-right: 24px;
    }

    a:not([class]) {
      color: #12b5e5;
      text-decoration: underline;
      font-weight: 600;
    }

    h2 {
      margin-top: 10px;
    }

    h3 {
      font-size: 24px;
      margin-bottom: 0;
      padding-left: 24px;
      padding-right: 24px;
    }
    

    h4 {
      font-size: 19px;
      margin-bottom: 0;
      padding-left: 24px;
      padding-right: 24px;
    }
    
    img {
      max-width: 100%;
    }

    strong {
      font-weight: 600;
    }

    pre {
      background-color: #f9f9f9;
      border: 1px solid #f9f9f9;
      color: #231F20;
      padding: 24px;
      border-radius: 8px;
    }

    table {
      border-collapse: collapse;
    }

    td {
      word-break: normal; border-collapse : collapse !important;
    }

    hr {
      border: 0;
      border-color: #f5f5f5;
      border-bottom: 5px solid;
      margin-top: 100px;
      margin-bottom: 100px;
    }

    .section-presenter p {
      font-size: 16px;
      margin-top: 5px;
    }

    mark {
      background-color: #F9F4DA;
      color: #231F20;
      padding-left: 2px;
      padding-right: 2px;
      border-radius: 2px;
    }

    .bg-alt {
      background-color: #f5f5f5;
    }

    @media (prefers-color-scheme: dark) {
      .email-wrapper {
        color: #F9F4DA !important;
        background-color: #0F0D0E !important;
      }

      hr {
        border-color: #262422 !important;
      }

      mark {
        background-color: #231F20 !important;
        color: #F9F4DA !important;
      }

      pre {
        background-color: #231F20 !important;
        border: 1px solid #231F20 !important;
        color: #F9F4DA !important;
      }

      .bg-alt { 
        background-color: #231F20 !important;
      }

      .unsubscribe-link {
        color: #8d8a7f !important;
      }

      .token.punctuation { 
        color: #f9f4da !important;
      }
    }

    @media screen and (min-width: 600px)  {
      .mobile-break { display: none; }
    }

    code[class*="language-"],
    pre[class*="language-"] {
      font-family: "Fira Mono", "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
      font-size: 14px;
      line-height: 1.5;
      direction: ltr;
      text-align: left;
      white-space: pre;
      word-spacing: normal;
      word-break: normal;
      -moz-tab-size: 2;
      -o-tab-size: 2;
      tab-size: 2;
      -webkit-hyphens: none;
      -moz-hyphens: none;
      -ms-hyphens: none;
      hyphens: none;
      color: #c0c5ce;
    }
    pre[class*=language-] {
      overflow: auto;
    }
    pre[class*="language-"]::-moz-selection,
    pre[class*="language-"] ::-moz-selection,
    code[class*="language-"]::-moz-selection,
    code[class*="language-"] ::-moz-selection {
      text-shadow: none;
      background: #a7adba;
    }
    pre[class*="language-"]::selection,
    pre[class*="language-"] ::selection,
    code[class*="language-"]::selection,
    code[class*="language-"] ::selection {
      text-shadow: none;
      background: #a7adba;
    }
    :not(pre) > code[class*="language-"] {
      padding: 3px;
      border-radius: 0.3em;
      white-space: normal;
    }
    .language-text {
      background: #36424D !important;
      padding: 3px 8px !important;
      color: #e5e5e5 !important;
    }
    code,
    code * {
      font-size: 14px;
    }
    code:not(pre) {
      font-size: 17px;
    }
    .token.comment {
      color: rgb(167, 167, 167);
    }
    .token.punctuation { 
      color: #231F20;
    }
    .token.deleted {
      color: #ed203d;
    }
    .token.inserted,
    .token.attr-name {
      color: #0ba95b;
    }
    .token.string,
    .token.url {
      color: #f99157;
    }
    .token.attr-value,
    .token.number {
      color: #fcba28;
    }
    .token.boolean,
    .token.keyword,
    .token.function {
      color: #9d7dce;
    }
    .token.keyword,
    .token.tag,
    .token.parameter,
    .token.method,
    .token.property-access {
      color: #f38ba3;
    }
    .token.changed,
    .token.property,
    .token.namespace,
    .token.operator,
    .token.selector,
    .token.doctype,
    .token.class-name,
    .token.builtin,
    .token.char,
    .token.constant,
    .token.interpolation {
      color: #12b5e5;
    }
</style><style data-styled="" data-styled-version="5.3.5"></style><style data-href="https://fonts.googleapis.com/css2?family=Fira+Mono&family=Outfit:wght@400;500;700;900&family=Paytone+One">@font-face{font-family:'Fira Mono';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/firamono/v14/N0bX2SlFPv1weGeLZDtQIg.woff) format('woff')}@font-face{font-family:'Outfit';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/outfit/v11/QGYyz_MVcBeNP4NjuGObqx1XmO1I4TC1C4I.woff) format('woff')}@font-face{font-family:'Outfit';font-style:normal;font-weight:500;src:url(https://fonts.gstatic.com/s/outfit/v11/QGYyz_MVcBeNP4NjuGObqx1XmO1I4QK1C4I.woff) format('woff')}@font-face{font-family:'Outfit';font-style:normal;font-weight:700;src:url(https://fonts.gstatic.com/s/outfit/v11/QGYyz_MVcBeNP4NjuGObqx1XmO1I4deyC4I.woff) format('woff')}@font-face{font-family:'Outfit';font-style:normal;font-weight:900;src:url(https://fonts.gstatic.com/s/outfit/v11/QGYyz_MVcBeNP4NjuGObqx1XmO1I4ZmyC4I.woff) format('woff')}@font-face{font-family:'Paytone One';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/paytoneone/v23/0nksC9P7MfYHj2oFtYm2CiTp.woff) format('woff')}@font-face{font-family:'Fira Mono';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/firamono/v14/N0bX2SlFPv1weGeLZDtgK_7Ss9XZYalI.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Fira Mono';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/firamono/v14/N0bX2SlFPv1weGeLZDtgIv7Ss9XZYalI.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Fira Mono';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/firamono/v14/N0bX2SlFPv1weGeLZDtgKv7Ss9XZYalI.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Fira Mono';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/firamono/v14/N0bX2SlFPv1weGeLZDtgJf7Ss9XZYalI.woff2) format('woff2');unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:'Fira Mono';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/firamono/v14/N0bX2SlFPv1weGeLZDtgKP7Ss9XZYalI.woff2) format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Fira Mono';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/firamono/v14/N0bX2SlFPv1weGeLZDtgJv7Ss9XZYQ.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Outfit';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/outfit/v11/QGYvz_MVcBeNP4NJuktqUYLkn8BJ.woff2) format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Outfit';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/outfit/v11/QGYvz_MVcBeNP4NJtEtqUYLknw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Outfit';font-style:normal;font-weight:500;src:url(https://fonts.gstatic.com/s/outfit/v11/QGYvz_MVcBeNP4NJuktqUYLkn8BJ.woff2) format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Outfit';font-style:normal;font-weight:500;src:url(https://fonts.gstatic.com/s/outfit/v11/QGYvz_MVcBeNP4NJtEtqUYLknw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Outfit';font-style:normal;font-weight:700;src:url(https://fonts.gstatic.com/s/outfit/v11/QGYvz_MVcBeNP4NJuktqUYLkn8BJ.woff2) format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Outfit';font-style:normal;font-weight:700;src:url(https://fonts.gstatic.com/s/outfit/v11/QGYvz_MVcBeNP4NJtEtqUYLknw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Outfit';font-style:normal;font-weight:900;src:url(https://fonts.gstatic.com/s/outfit/v11/QGYvz_MVcBeNP4NJuktqUYLkn8BJ.woff2) format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Outfit';font-style:normal;font-weight:900;src:url(https://fonts.gstatic.com/s/outfit/v11/QGYvz_MVcBeNP4NJtEtqUYLknw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Paytone One';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/paytoneone/v23/0nksC9P7MfYHj2oFtYm2ChTigPvfiwq-FQc.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Paytone One';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/paytoneone/v23/0nksC9P7MfYHj2oFtYm2ChTjgPvfiwq-FQc.woff2) format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Paytone One';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/paytoneone/v23/0nksC9P7MfYHj2oFtYm2ChTtgPvfiwq-.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body><div id="__next"><div style="position:fixed;z-index:9999;top:16px;left:16px;right:16px;bottom:16px;pointer-events:none"></div><div class="text-white"><div class="bg-brand-coal"><nav class="flex justify-between items-center mb-10 p-8 container mx-auto gap-12"><a class="block relative" href="/"><img width="48" src="/images/bytes-icon.png" alt="Bytes by ui.dev"/></a><div class="flex gap-8"><a class="sm:text-xl text-biege hover:text-yellow underline" href="/advertise">advertise</a><a class="sm:text-xl text-biege hover:text-yellow underline" href="/archives">archives</a></div></nav><div class="mx-auto md:pt-14 md:pb-8 text-center max-w-[75ch]"><h1 class="font-black text-3xl lg:text-6xl uppercase"> fork you... Or rather, fork us</h1><div class="text-sm sm:text-lg font-normal font-mono mt-6"><span class="mr-6 font-bold">Issue #<!-- -->50<!-- -->.</span><span class="mr-6 font-bold">May 31, 2021<!-- -->.</span><span class="font-bold">2 Minute read.</span></div></div></div><div class="p-8 pt-0 relative xl:grid xl:grid-cols-[1fr_auto_1fr] gap-10"><div class="hidden xl:block"></div><div style="line-height:32.36px;font-size:20px" class="jsx-undefined post max-w-[600px] mx-auto"><div class="jsx-undefined"><html><head></head><body><div style="max-width:600px;padding-top:80px"><div style="text-align:center"><img width="600" style="padding-bottom:40px;max-width:100%" src="https://bytes.dev/images/bytes-banner-rounded.png" alt="Bytes"></div><p><img src="https://bytes.dev/images/content/blink.png" alt="Blink 182 - the microsoft version">
</p><p class="image-alt">Nobody likes you when you’re 4.3</p><p></p>
<h2>TypeScript releases v4.3</h2>
<p>TypeScript blessed us with v4.3 last week, and it came with an <a href="https://devblogs.microsoft.com/typescript/announcing-typescript-4-3/">announcement post</a> that’s like a 19th-Century Russian novel mixed with a CVS receipt — it just keeps going.</p>
<p><strong>Quick review:</strong> If you’re new to TypeScript-land, just know that it allows you to add <em>types</em> to your code so that you can catch mistakes like logic errors and typos. It’s kind of like your little league baseball coach who “only yells at you because he cares”, but with less of a drinking problem.</p>
<p>Let’s get to <strong>the highlights of TS 4.3:</strong></p>
<ul>
<li>
<p><strong>New <code>override</code> keyword</strong> — If you mark a method with <code>override</code>, it’ll check to see if a method with the same name exists in the base class. That prevents common errors that come up when you can’t make it clear whether you meant to add a totally new method or override an existing one. It also comes with a new <code>--noImplicitOverride</code> flag, which gives TypeScript permission to (lovingly) yell at you if you try to override a method without using <code>override</code>.</p>
</li>
<li>
<p><strong>Separate write types on properties</strong> — It was always pretty tricky to model APIs that convert passed-in values before storing them, because TypeScript forced you to choose between optimizing for <em>reading</em> values or <em>writing</em> values. But now you can specify types for reading <em>and</em> writing to properties. Best of both worlds.</p>
</li>
<li>
<p><strong>Template String Type Improvements</strong> — These are new-ish types that either construct new string-like types by concatenating or they match patterns of other string-like types. TypeScript 4.3 makes a few improvements to how &amp; when TypeScript infers these TSTs.</p>
</li>
</ul>
<h3>The Bottom Line</h3>
<p>Like blink-182, many people kind of hate TypeScript at first, but grow to love and appreciate it over time. And v4.3 is another solid release that continues to shore up various typing edge cases.</p>
<hr>
<p><img src="https://bytes.dev/images/content/retool.png" alt="Retool">
</p><p class="image-alt">Just ship it [Sponsored]</p><p></p>
<h2>Build internal tools 10x faster with <a href="https://retool.com/">Retool</a></h2>
<p>It finally happened. Your boss approached you and needs some “internal tools thrown together” because the suits upstairs want to make some “data-driven decisions.”</p>
<p><em>No problem,</em> you think, <em>should only take a few days.</em> But then you spend the next month hacking together a <em>wide</em> variety of your company’s data sources, only to realize at the last minute that you never considered auth, and (oh crap) the whole thing looks terrible. Should’ve used <a href="https://retool.com/">Retool</a>.</p>
<p>Retool started when a few developers realized that all internal tools are made up of the same basic pieces — tables, lists, charts, forms, maps, wizards <em>(I’m a wot?)</em>, etc. So they made a rad product that abstracts away all the annoying parts of building those tools, while still giving you the flexibility to write custom JavaScript anywhere in the app.</p>
<p>And thanks to their pretty generous <a href="https://retool.com/pricing/">free tier</a>, I can finally tell my mom that I’m a 10x (internal tools) developer.</p>
<hr>
<p><img src="https://bytes.dev/images/content/jest.png" alt="jest">
</p><p class="image-alt">Who’s that testing framework…?_</p><p></p>
<h2>Jest 27 Has New Defaults</h2>
<p>The web’s <a href="https://2020.stateofjs.com/en-US/technologies/testing/">most popular</a> JavaScript testing framework released v27 last week — their first major release to feature significant breaking changes in over two years (good thing fixing breaking changes in my testing framework is my kink).</p>
<p>The big news here is that Jest is changing the default test environment from <code>"jsdom"</code> to <code>"node"</code>. There’s a lot that went into this, but the tl;dr is that most developers will see a big performance boost because they’ll no longer be unknowingly using an expensive DOM environment that they (usually) don’t need.</p>
<p><strong>Other new stuff:</strong></p>
<ul>
<li>
<p>You can now <em>interactively</em> step through failed tests one at a time (sounds like my parent-teacher conferences in middle school)</p>
</li>
<li>
<p>You can now do inline snapshots without having to use Prettier as a mandatory pre-requisite (one of Jest’s most-requested features)</p>
</li>
<li>
<p>The recently-updated and much improved fake timers implementation became the default in Jest 27 (it was previously opt-in)</p>
</li>
<li>
<p>Initialization per test file is almost 70% faster than it was in Jest 26 <span role="img" aria-label="clapping hands">👏</span></p>
</li>
</ul>
<h3>The Bottom Line</h3>
<p>This release addresses some longstanding performance concerns and marks the first time that the testing framework has changed any defaults since mid-2016 — AKA back when <em>Jest</em> was on version 15 and <em>Jess</em> was on jury duty in Season 5 of New Girl.</p>
<p>Can’t wait to see what Jest looks like when Zooey Deschanel’s newest quirky sitcom is airing in 2026.</p>
<hr>
<h2>Cool Bits</h2>
<ol>
<li>
<p>Flow, Facebook’s OG static type checker, wrote about <strong><a href="https://medium.com/flow-type/clarity-on-flows-direction-and-open-source-engagement-e721a4eb4d8b">its future direction</a></strong> last week. TL;DR — “We’re definitely still open source, but if you want to contribute, it needs to exactly match Facebook’s needs. Otherwise, fork you… Or rather, fork us.” Um, <em><a href="https://www.youtube.com/watch?v=aufzEgP97Kg">excuse me, Flow?</a></em></p>
</li>
<li>
<p>Maxence wrote about <strong><a href="https://www.maxpou.fr/vue-js-module-architecture">scaling a large Vue app</a></strong> that he’s been working on for 3 years and is over 650k lines of code. 350k more lines to go before Evan You awards him the esteemed rank of VueLord™ and teaches him all the secret Vue cheat codes.</p>
</li>
<li>
<p><strong><a href="https://twitter.com/nodejs/status/1397914989931864080">Node.js turned 12 years old</a></strong> last week, and Ryan Dahl didn’t even show up for his child’s birthday party (typical). Rumor has it that he did send dino-shaped balloons though.</p>
</li>
<li>
<p>Datadog released their <strong><a href="https://www.datadoghq.com/state-of-serverless/">2021 State of Serverless</a></strong> report, which will probably make you wish you knew more about serverless. [Sponsored]</p>
</li>
<li>
<p>V8 introduced <strong><a href="https://v8.dev/blog/sparkplug">Sparkplug</a></strong> — its new, non-optimizing compiler for JavaScript that improves V8 performance on real-world benchmarks by 5–15%.</p>
</li>
<li>
<p>Florian wrote a great deep dive on <strong><a href="https://itnext.io/deep-dive-into-rust-for-node-js-developers-5faace6dc71f">Rust for Node.js developers</a></strong>. Not quite as many Salad Fingers references as we would’ve liked to see, but there’s always next time.</p>
</li>
<li>
<p>Alex built <strong><a href="https://trpc.io/">tRPC</a></strong> — a super slick TypeScript toolkit for building end-to-end, type-safe APIs. Their second-choice for a name was Slick-Rick-API-Builder, but they decided against it at the last minute. Our loss.</p>
</li>
<li>
<p><strong><a href="https://boringavatars.com/">Boring Avatars</a></strong> is a tiny React library that generates custom, SVG-based avatars from any username and color palette. It’s also what most people said when they watch the <del>Fern Gully remake</del> <em><a href="https://collider.com/avatar-highest-grossing-movie-avengers-endgame/">highest-grossing movie of all time</a></em>.</p>
</li>
</ol>
<hr>
<h2>JS Tip: == vs ===</h2>
<p>When writing software, the simpler solution is almost always the better one. If in order to use a feature I first have to learn and remember a <a href="https://ui.dev/this-keyword-call-apply-bind-javascript">list of rules</a> pertaining to it, I try my best to avoid it. Not because that feature might not be valuable to know, but because I don’t trust myself to remember every nuanced rule. That logic is the primary decision to why I always use triple equals (<code>===</code>) over double equals (<code>==</code>). They both accomplish similar things, but the <a href="https://english.stackexchange.com/questions/77535/what-does-falling-into-the-pit-of-success-mean">Pit of Success</a> for triple equals is much larger, let’s see why.</p>
<h3>Identity Operator (triple equals, ===)</h3>
<p>When using triple equals <code>===</code>, there are two rules you need to remember - strict equality (for when you’re comparing primitive values) and reference equality (for when you’re comparing reference values).</p>
<h3>Strict Equality</h3>
<p>Strict equality checks that both the <strong>type</strong> (<code>number</code>, <code>string</code>, <code>boolean</code>, etc) <strong>and</strong> the <strong>value</strong> are the same. If the <strong>type</strong> is the same but not the value, you’ll get false. If the <strong>value</strong> is the same but not the type, you’ll get false. If both the <strong>value</strong> and the <strong>type</strong> are the same, you’ll get true.</p>
<pre class="language-js"><code class="language-js"><span class="token number">5</span> <span class="token operator">===</span> <span class="token number">5</span> <span class="token comment">// true. Same type, same value.</span>
<span class="token number">5</span> <span class="token operator">===</span> <span class="token number">4</span> <span class="token comment">// false. Same type, different values.</span>
<span class="token number">5</span> <span class="token operator">===</span> <span class="token string">"5"</span> <span class="token comment">// false. Different type, same value.</span>

<span class="token boolean">true</span> <span class="token operator">===</span> <span class="token boolean">true</span> <span class="token comment">// true. Same type, same value.</span>
<span class="token boolean">true</span> <span class="token operator">===</span> <span class="token boolean">false</span> <span class="token comment">// false. Same type, different values.</span>
<span class="token boolean">true</span> <span class="token operator">===</span> <span class="token string">'true'</span> <span class="token comment">// false. Different type, same value.</span>
</code></pre>
<p>Seems simple enough, but as mentioned earlier this rule breaks down when we start to compare reference values (or values that aren’t primitives).</p>
<h3>Reference Equality</h3>
<p>As we saw in the previous example, primitives are compared by their value. However, if you use triple equals with reference values, it’s going to compare the <strong>references</strong> (or spots in memory).</p>
<pre class="language-js"><code class="language-js"><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token operator">===</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// false. Same type, similar value, different reference. ❌</span>
<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">// false. Same type, similar value, different reference. ❌</span>
<span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Meg'</span> <span class="token punctuation">}</span> <span class="token operator">===</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Meg'</span> <span class="token punctuation">}</span> <span class="token comment">// false. Same type, similar value, different reference. ❌</span>
</code></pre>
<p>Even though each of the examples above has the same type and what <strong>appears</strong> to be the same value, because they’re reference values, JavaScript compares the references in memory, not the actual value. In each of the examples the references or locations in memory are different, which is why we always get false.</p>
<p>We can see this further by assigning two variable to the same reference in memory and then using the identity operator on them.</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Tyler'</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> person <span class="token operator">=</span> user

person <span class="token operator">===</span> user <span class="token comment">// true. Same type, same value, same reference.</span>
</code></pre>
<p>In the example both <code>person</code> and <code>user</code> are referencing the same spot in memory, which is why we get <code>true</code>.</p>
<p>In summary, when using the Identity Operator (<code>===</code>), assuming you know about reference equality, everything just works as you’d expect. Here’s an equality table to prove it.</p>
<p><a href="https://dorey.github.io/JavaScript-Equality-Table/"><img src="https://ui.dev/post-images/triple-equals.png" alt="Triple equals equality table"></a></p>
<h3>Equality Operator (double equals, ==)</h3>
<p>Unlike the Identity Operator (<code>===</code>), unless you’re <strong>very</strong> familiar with it, odds are the Equality Operator (<code>==</code>) doesn’t behave as you’d expect. Here are just some examples,</p>
<pre class="language-js"><code class="language-js"><span class="token string">"1"</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token comment">// true</span>
<span class="token keyword">null</span> <span class="token operator">==</span> <span class="token keyword">undefined</span> <span class="token comment">// true</span>
<span class="token number">0</span> <span class="token operator">==</span> <span class="token string">''</span> <span class="token comment">// true</span>
<span class="token string">'0'</span> <span class="token operator">==</span> <span class="token boolean">false</span> <span class="token comment">// true</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token boolean">true</span> <span class="token comment">// true 🤷‍♂️</span>
</code></pre>
<p>So what exactly is going on here? Notice that each comparison is being made between different types. As we saw earlier with the Identity Operator (<code>===</code>), all of these would return false since they’re all of different types. With the Equality Operator (<code>==</code>), it’s not that simple. Instead of returning false when the types don’t match, it’ll attempt to convert them into the same type.</p>
<p>So in the first example, <code>"1" == 1</code> because the JavaScript engine will convert the String “1” to Number 1 which then evaluates to <code>1 == 1</code> which is true.</p>
<p>It’s that type coercion stage which makes the Equality Operator (<code>==</code>) so unpredictable. Here’s the same equality table we saw before except now in terms of <code>==</code>.</p>
<p><a href="https://dorey.github.io/JavaScript-Equality-Table/"><img src="https://ui.dev/post-images/double-equals.png" alt="Double equals equality table"></a></p>
<p>If you and anyone who works on your codebase is confident in all of JavaScript’s type coercion rules, feel free to use whichever operator you’d like. However, if you’re like me and you’d rather use the tool that works how you’d expect, stick with the Identity Operator (===).</p></div></body></html></div></div><aside class="sticky top-20 self-start justify-self-center hidden xl:block mt-80"><div class="grid gap-4 max-w-xs"><div><p class="mb-6 text-center text-xl">Subscribe to join<!-- --> <span class="font-black">212,299</span> <!-- -->developers who receive Bytes each week, for free.</p><input class="rounded-tl rounded-tr font-medium appearance-none rounded-none float-left text-base mt-0 p-2 w-full h-11 border-none placeholder-biege/50 bg-charcoal focus:outline-none focus:ring-2 focus:ring-blue focus:border-transparent" type="email" autoComplete="email" placeholder="email address"/><button class="w-full text-black rounded-br rounded-bl text-sm md:text-lg font-black bg-yellow rounded-none float-left h-10 shadow-none uppercase disabled:opacity-50 focus:outline-none focus:ring-2 focus:ring-blue focus:border-transparent active:bg-yellow-600">Subscribe</button></div></div></aside></div></div><footer class="mt-20 py-8 lg:pt-20 lg:pb-10 relative bg-brand-charcoal text-brand-biege"><div class="container mx-auto px-8 mb-12 flex justify-center"><img src="/images/bytes-icon.png" alt="Bytes" width="48"/></div><div class="container mx-auto px-8 pb-8"><div><ul class="list-unstyled flex justify-center flex-wrap gap-4 text-sm"><li><a class="underline" href="/archives">Archives</a></li><li><a class="underline" href="/advertise">Advertise</a></li><li><a class="underline" target="_blank" rel="noopener noreferrer" href="https://npmtrends.com">npmtrends</a></li><li><a class="underline" target="_blank" rel="noopener noreferrer" href="https://react.gg">Learn React</a></li><li><a class="underline" target="_blank" rel="noopener noreferrer" href="https://query.gg">Learn React Query</a></li><li><a class="underline" target="_blank" rel="noopener noreferrer" href="https://usehooks.com">useHooks</a></li></ul></div></div><p class="text-center mb-8">Made with ❤️ by<!-- --> <a class="text-brand-red underline" href="https://ui.dev">uidotdev</a></p></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"subcount":212299,"post":{"data":{"title":"Bytes: fork you... Or rather, fork us","date":"2021-05-31","description":"This issue, we have blessing from TypeScript, Jest updates and boring avatars.","featuredImage":"https://bytes.dev/images/content/blink.png"},"content":"\u003chtml\u003e\u003chead\u003e\u003c/head\u003e\u003cbody\u003e\u003cdiv style=\"max-width:600px;padding-top:80px\"\u003e\u003cdiv style=\"text-align:center\"\u003e\u003cimg width=\"600\" style=\"padding-bottom:40px;max-width:100%\" src=\"https://bytes.dev/images/bytes-banner-rounded.png\" alt=\"Bytes\"\u003e\u003c/div\u003e\u003cp\u003e\u003cimg src=\"https://bytes.dev/images/content/blink.png\" alt=\"Blink 182 - the microsoft version\"\u003e\n\u003c/p\u003e\u003cp class=\"image-alt\"\u003eNobody likes you when you’re 4.3\u003c/p\u003e\u003cp\u003e\u003c/p\u003e\n\u003ch2\u003eTypeScript releases v4.3\u003c/h2\u003e\n\u003cp\u003eTypeScript blessed us with v4.3 last week, and it came with an \u003ca href=\"https://devblogs.microsoft.com/typescript/announcing-typescript-4-3/\"\u003eannouncement post\u003c/a\u003e that’s like a 19th-Century Russian novel mixed with a CVS receipt — it just keeps going.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eQuick review:\u003c/strong\u003e If you’re new to TypeScript-land, just know that it allows you to add \u003cem\u003etypes\u003c/em\u003e to your code so that you can catch mistakes like logic errors and typos. It’s kind of like your little league baseball coach who “only yells at you because he cares”, but with less of a drinking problem.\u003c/p\u003e\n\u003cp\u003eLet’s get to \u003cstrong\u003ethe highlights of TS 4.3:\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eNew \u003ccode\u003eoverride\u003c/code\u003e keyword\u003c/strong\u003e — If you mark a method with \u003ccode\u003eoverride\u003c/code\u003e, it’ll check to see if a method with the same name exists in the base class. That prevents common errors that come up when you can’t make it clear whether you meant to add a totally new method or override an existing one. It also comes with a new \u003ccode\u003e--noImplicitOverride\u003c/code\u003e flag, which gives TypeScript permission to (lovingly) yell at you if you try to override a method without using \u003ccode\u003eoverride\u003c/code\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eSeparate write types on properties\u003c/strong\u003e — It was always pretty tricky to model APIs that convert passed-in values before storing them, because TypeScript forced you to choose between optimizing for \u003cem\u003ereading\u003c/em\u003e values or \u003cem\u003ewriting\u003c/em\u003e values. But now you can specify types for reading \u003cem\u003eand\u003c/em\u003e writing to properties. Best of both worlds.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eTemplate String Type Improvements\u003c/strong\u003e — These are new-ish types that either construct new string-like types by concatenating or they match patterns of other string-like types. TypeScript 4.3 makes a few improvements to how \u0026amp; when TypeScript infers these TSTs.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eThe Bottom Line\u003c/h3\u003e\n\u003cp\u003eLike blink-182, many people kind of hate TypeScript at first, but grow to love and appreciate it over time. And v4.3 is another solid release that continues to shore up various typing edge cases.\u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cimg src=\"https://bytes.dev/images/content/retool.png\" alt=\"Retool\"\u003e\n\u003c/p\u003e\u003cp class=\"image-alt\"\u003eJust ship it [Sponsored]\u003c/p\u003e\u003cp\u003e\u003c/p\u003e\n\u003ch2\u003eBuild internal tools 10x faster with \u003ca href=\"https://retool.com/\"\u003eRetool\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eIt finally happened. Your boss approached you and needs some “internal tools thrown together” because the suits upstairs want to make some “data-driven decisions.”\u003c/p\u003e\n\u003cp\u003e\u003cem\u003eNo problem,\u003c/em\u003e you think, \u003cem\u003eshould only take a few days.\u003c/em\u003e But then you spend the next month hacking together a \u003cem\u003ewide\u003c/em\u003e variety of your company’s data sources, only to realize at the last minute that you never considered auth, and (oh crap) the whole thing looks terrible. Should’ve used \u003ca href=\"https://retool.com/\"\u003eRetool\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eRetool started when a few developers realized that all internal tools are made up of the same basic pieces — tables, lists, charts, forms, maps, wizards \u003cem\u003e(I’m a wot?)\u003c/em\u003e, etc. So they made a rad product that abstracts away all the annoying parts of building those tools, while still giving you the flexibility to write custom JavaScript anywhere in the app.\u003c/p\u003e\n\u003cp\u003eAnd thanks to their pretty generous \u003ca href=\"https://retool.com/pricing/\"\u003efree tier\u003c/a\u003e, I can finally tell my mom that I’m a 10x (internal tools) developer.\u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cimg src=\"https://bytes.dev/images/content/jest.png\" alt=\"jest\"\u003e\n\u003c/p\u003e\u003cp class=\"image-alt\"\u003eWho’s that testing framework…?_\u003c/p\u003e\u003cp\u003e\u003c/p\u003e\n\u003ch2\u003eJest 27 Has New Defaults\u003c/h2\u003e\n\u003cp\u003eThe web’s \u003ca href=\"https://2020.stateofjs.com/en-US/technologies/testing/\"\u003emost popular\u003c/a\u003e JavaScript testing framework released v27 last week — their first major release to feature significant breaking changes in over two years (good thing fixing breaking changes in my testing framework is my kink).\u003c/p\u003e\n\u003cp\u003eThe big news here is that Jest is changing the default test environment from \u003ccode\u003e\"jsdom\"\u003c/code\u003e to \u003ccode\u003e\"node\"\u003c/code\u003e. There’s a lot that went into this, but the tl;dr is that most developers will see a big performance boost because they’ll no longer be unknowingly using an expensive DOM environment that they (usually) don’t need.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eOther new stuff:\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eYou can now \u003cem\u003einteractively\u003c/em\u003e step through failed tests one at a time (sounds like my parent-teacher conferences in middle school)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eYou can now do inline snapshots without having to use Prettier as a mandatory pre-requisite (one of Jest’s most-requested features)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eThe recently-updated and much improved fake timers implementation became the default in Jest 27 (it was previously opt-in)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eInitialization per test file is almost 70% faster than it was in Jest 26 \u003cspan role=\"img\" aria-label=\"clapping hands\"\u003e👏\u003c/span\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eThe Bottom Line\u003c/h3\u003e\n\u003cp\u003eThis release addresses some longstanding performance concerns and marks the first time that the testing framework has changed any defaults since mid-2016 — AKA back when \u003cem\u003eJest\u003c/em\u003e was on version 15 and \u003cem\u003eJess\u003c/em\u003e was on jury duty in Season 5 of New Girl.\u003c/p\u003e\n\u003cp\u003eCan’t wait to see what Jest looks like when Zooey Deschanel’s newest quirky sitcom is airing in 2026.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2\u003eCool Bits\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003eFlow, Facebook’s OG static type checker, wrote about \u003cstrong\u003e\u003ca href=\"https://medium.com/flow-type/clarity-on-flows-direction-and-open-source-engagement-e721a4eb4d8b\"\u003eits future direction\u003c/a\u003e\u003c/strong\u003e last week. TL;DR — “We’re definitely still open source, but if you want to contribute, it needs to exactly match Facebook’s needs. Otherwise, fork you… Or rather, fork us.” Um, \u003cem\u003e\u003ca href=\"https://www.youtube.com/watch?v=aufzEgP97Kg\"\u003eexcuse me, Flow?\u003c/a\u003e\u003c/em\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eMaxence wrote about \u003cstrong\u003e\u003ca href=\"https://www.maxpou.fr/vue-js-module-architecture\"\u003escaling a large Vue app\u003c/a\u003e\u003c/strong\u003e that he’s been working on for 3 years and is over 650k lines of code. 350k more lines to go before Evan You awards him the esteemed rank of VueLord™ and teaches him all the secret Vue cheat codes.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003e\u003ca href=\"https://twitter.com/nodejs/status/1397914989931864080\"\u003eNode.js turned 12 years old\u003c/a\u003e\u003c/strong\u003e last week, and Ryan Dahl didn’t even show up for his child’s birthday party (typical). Rumor has it that he did send dino-shaped balloons though.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eDatadog released their \u003cstrong\u003e\u003ca href=\"https://www.datadoghq.com/state-of-serverless/\"\u003e2021 State of Serverless\u003c/a\u003e\u003c/strong\u003e report, which will probably make you wish you knew more about serverless. [Sponsored]\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eV8 introduced \u003cstrong\u003e\u003ca href=\"https://v8.dev/blog/sparkplug\"\u003eSparkplug\u003c/a\u003e\u003c/strong\u003e — its new, non-optimizing compiler for JavaScript that improves V8 performance on real-world benchmarks by 5–15%.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eFlorian wrote a great deep dive on \u003cstrong\u003e\u003ca href=\"https://itnext.io/deep-dive-into-rust-for-node-js-developers-5faace6dc71f\"\u003eRust for Node.js developers\u003c/a\u003e\u003c/strong\u003e. Not quite as many Salad Fingers references as we would’ve liked to see, but there’s always next time.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eAlex built \u003cstrong\u003e\u003ca href=\"https://trpc.io/\"\u003etRPC\u003c/a\u003e\u003c/strong\u003e — a super slick TypeScript toolkit for building end-to-end, type-safe APIs. Their second-choice for a name was Slick-Rick-API-Builder, but they decided against it at the last minute. Our loss.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003e\u003ca href=\"https://boringavatars.com/\"\u003eBoring Avatars\u003c/a\u003e\u003c/strong\u003e is a tiny React library that generates custom, SVG-based avatars from any username and color palette. It’s also what most people said when they watch the \u003cdel\u003eFern Gully remake\u003c/del\u003e \u003cem\u003e\u003ca href=\"https://collider.com/avatar-highest-grossing-movie-avengers-endgame/\"\u003ehighest-grossing movie of all time\u003c/a\u003e\u003c/em\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003chr\u003e\n\u003ch2\u003eJS Tip: == vs ===\u003c/h2\u003e\n\u003cp\u003eWhen writing software, the simpler solution is almost always the better one. If in order to use a feature I first have to learn and remember a \u003ca href=\"https://ui.dev/this-keyword-call-apply-bind-javascript\"\u003elist of rules\u003c/a\u003e pertaining to it, I try my best to avoid it. Not because that feature might not be valuable to know, but because I don’t trust myself to remember every nuanced rule. That logic is the primary decision to why I always use triple equals (\u003ccode\u003e===\u003c/code\u003e) over double equals (\u003ccode\u003e==\u003c/code\u003e). They both accomplish similar things, but the \u003ca href=\"https://english.stackexchange.com/questions/77535/what-does-falling-into-the-pit-of-success-mean\"\u003ePit of Success\u003c/a\u003e for triple equals is much larger, let’s see why.\u003c/p\u003e\n\u003ch3\u003eIdentity Operator (triple equals, ===)\u003c/h3\u003e\n\u003cp\u003eWhen using triple equals \u003ccode\u003e===\u003c/code\u003e, there are two rules you need to remember - strict equality (for when you’re comparing primitive values) and reference equality (for when you’re comparing reference values).\u003c/p\u003e\n\u003ch3\u003eStrict Equality\u003c/h3\u003e\n\u003cp\u003eStrict equality checks that both the \u003cstrong\u003etype\u003c/strong\u003e (\u003ccode\u003enumber\u003c/code\u003e, \u003ccode\u003estring\u003c/code\u003e, \u003ccode\u003eboolean\u003c/code\u003e, etc) \u003cstrong\u003eand\u003c/strong\u003e the \u003cstrong\u003evalue\u003c/strong\u003e are the same. If the \u003cstrong\u003etype\u003c/strong\u003e is the same but not the value, you’ll get false. If the \u003cstrong\u003evalue\u003c/strong\u003e is the same but not the type, you’ll get false. If both the \u003cstrong\u003evalue\u003c/strong\u003e and the \u003cstrong\u003etype\u003c/strong\u003e are the same, you’ll get true.\u003c/p\u003e\n\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token number\"\u003e5\u003c/span\u003e \u003cspan class=\"token operator\"\u003e===\u003c/span\u003e \u003cspan class=\"token number\"\u003e5\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// true. Same type, same value.\u003c/span\u003e\n\u003cspan class=\"token number\"\u003e5\u003c/span\u003e \u003cspan class=\"token operator\"\u003e===\u003c/span\u003e \u003cspan class=\"token number\"\u003e4\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// false. Same type, different values.\u003c/span\u003e\n\u003cspan class=\"token number\"\u003e5\u003c/span\u003e \u003cspan class=\"token operator\"\u003e===\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"5\"\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// false. Different type, same value.\u003c/span\u003e\n\n\u003cspan class=\"token boolean\"\u003etrue\u003c/span\u003e \u003cspan class=\"token operator\"\u003e===\u003c/span\u003e \u003cspan class=\"token boolean\"\u003etrue\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// true. Same type, same value.\u003c/span\u003e\n\u003cspan class=\"token boolean\"\u003etrue\u003c/span\u003e \u003cspan class=\"token operator\"\u003e===\u003c/span\u003e \u003cspan class=\"token boolean\"\u003efalse\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// false. Same type, different values.\u003c/span\u003e\n\u003cspan class=\"token boolean\"\u003etrue\u003c/span\u003e \u003cspan class=\"token operator\"\u003e===\u003c/span\u003e \u003cspan class=\"token string\"\u003e'true'\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// false. Different type, same value.\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eSeems simple enough, but as mentioned earlier this rule breaks down when we start to compare reference values (or values that aren’t primitives).\u003c/p\u003e\n\u003ch3\u003eReference Equality\u003c/h3\u003e\n\u003cp\u003eAs we saw in the previous example, primitives are compared by their value. However, if you use triple equals with reference values, it’s going to compare the \u003cstrong\u003ereferences\u003c/strong\u003e (or spots in memory).\u003c/p\u003e\n\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token operator\"\u003e===\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// false. Same type, similar value, different reference. ❌\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e===\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// false. Same type, similar value, different reference. ❌\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e \u003cspan class=\"token literal-property property\"\u003ename\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e'Meg'\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token operator\"\u003e===\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e \u003cspan class=\"token literal-property property\"\u003ename\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e'Meg'\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// false. Same type, similar value, different reference. ❌\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eEven though each of the examples above has the same type and what \u003cstrong\u003eappears\u003c/strong\u003e to be the same value, because they’re reference values, JavaScript compares the references in memory, not the actual value. In each of the examples the references or locations in memory are different, which is why we always get false.\u003c/p\u003e\n\u003cp\u003eWe can see this further by assigning two variable to the same reference in memory and then using the identity operator on them.\u003c/p\u003e\n\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e user \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token literal-property property\"\u003ename\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token string\"\u003e'Tyler'\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e person \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e user\n\nperson \u003cspan class=\"token operator\"\u003e===\u003c/span\u003e user \u003cspan class=\"token comment\"\u003e// true. Same type, same value, same reference.\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIn the example both \u003ccode\u003eperson\u003c/code\u003e and \u003ccode\u003euser\u003c/code\u003e are referencing the same spot in memory, which is why we get \u003ccode\u003etrue\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eIn summary, when using the Identity Operator (\u003ccode\u003e===\u003c/code\u003e), assuming you know about reference equality, everything just works as you’d expect. Here’s an equality table to prove it.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://dorey.github.io/JavaScript-Equality-Table/\"\u003e\u003cimg src=\"https://ui.dev/post-images/triple-equals.png\" alt=\"Triple equals equality table\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch3\u003eEquality Operator (double equals, ==)\u003c/h3\u003e\n\u003cp\u003eUnlike the Identity Operator (\u003ccode\u003e===\u003c/code\u003e), unless you’re \u003cstrong\u003every\u003c/strong\u003e familiar with it, odds are the Equality Operator (\u003ccode\u003e==\u003c/code\u003e) doesn’t behave as you’d expect. Here are just some examples,\u003c/p\u003e\n\u003cpre class=\"language-js\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"token string\"\u003e\"1\"\u003c/span\u003e \u003cspan class=\"token operator\"\u003e==\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// true\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003enull\u003c/span\u003e \u003cspan class=\"token operator\"\u003e==\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eundefined\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// true\u003c/span\u003e\n\u003cspan class=\"token number\"\u003e0\u003c/span\u003e \u003cspan class=\"token operator\"\u003e==\u003c/span\u003e \u003cspan class=\"token string\"\u003e''\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// true\u003c/span\u003e\n\u003cspan class=\"token string\"\u003e'0'\u003c/span\u003e \u003cspan class=\"token operator\"\u003e==\u003c/span\u003e \u003cspan class=\"token boolean\"\u003efalse\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// true\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e==\u003c/span\u003e \u003cspan class=\"token boolean\"\u003etrue\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// true 🤷‍♂️\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eSo what exactly is going on here? Notice that each comparison is being made between different types. As we saw earlier with the Identity Operator (\u003ccode\u003e===\u003c/code\u003e), all of these would return false since they’re all of different types. With the Equality Operator (\u003ccode\u003e==\u003c/code\u003e), it’s not that simple. Instead of returning false when the types don’t match, it’ll attempt to convert them into the same type.\u003c/p\u003e\n\u003cp\u003eSo in the first example, \u003ccode\u003e\"1\" == 1\u003c/code\u003e because the JavaScript engine will convert the String “1” to Number 1 which then evaluates to \u003ccode\u003e1 == 1\u003c/code\u003e which is true.\u003c/p\u003e\n\u003cp\u003eIt’s that type coercion stage which makes the Equality Operator (\u003ccode\u003e==\u003c/code\u003e) so unpredictable. Here’s the same equality table we saw before except now in terms of \u003ccode\u003e==\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://dorey.github.io/JavaScript-Equality-Table/\"\u003e\u003cimg src=\"https://ui.dev/post-images/double-equals.png\" alt=\"Double equals equality table\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eIf you and anyone who works on your codebase is confident in all of JavaScript’s type coercion rules, feel free to use whichever operator you’d like. However, if you’re like me and you’d rather use the tool that works how you’d expect, stick with the Identity Operator (===).\u003c/p\u003e\u003c/div\u003e\u003c/body\u003e\u003c/html\u003e","slug":"50"}},"__N_SSG":true},"page":"/archives/[slug]","query":{"slug":"50"},"buildId":"dY9LIRQQ58VhV_MFEhYS7","runtimeConfig":{"nextPlausiblePublicProxyOptions":{"trailingSlash":false}},"isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>